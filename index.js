/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x5a7f75=_0x2e96;function _0x2e96(_0x7d24b1,_0x490273){const _0x322140=_0x3221();return _0x2e96=function(_0x2e96a7,_0xc07716){_0x2e96a7=_0x2e96a7-0x19a;let _0x362042=_0x322140[_0x2e96a7];return _0x362042;},_0x2e96(_0x7d24b1,_0x490273);}(function(_0x1303b3,_0x298cdf){const _0x4c14c3=_0x2e96,_0x5930e8=_0x1303b3();while(!![]){try{const _0x3d6574=parseInt(_0x4c14c3(0x1ee))/0x1*(parseInt(_0x4c14c3(0x1ca))/0x2)+-parseInt(_0x4c14c3(0x1cf))/0x3*(parseInt(_0x4c14c3(0x19f))/0x4)+parseInt(_0x4c14c3(0x1ed))/0x5+parseInt(_0x4c14c3(0x1f5))/0x6+parseInt(_0x4c14c3(0x1d5))/0x7+parseInt(_0x4c14c3(0x1b2))/0x8+-parseInt(_0x4c14c3(0x1d6))/0x9*(parseInt(_0x4c14c3(0x1b6))/0xa);if(_0x3d6574===_0x298cdf)break;else _0x5930e8['push'](_0x5930e8['shift']());}catch(_0x12d8fd){_0x5930e8['push'](_0x5930e8['shift']());}}}(_0x3221,0xd12ef));const os=require('os'),fs=require('fs'),path=require('path'),events=require(_0x5a7f75(0x1b0)),got=require(_0x5a7f75(0x1e4)),git=simpleGit(),{DataTypes}=require(_0x5a7f75(0x1b7)),{Message,Image,Video}=require(_0x5a7f75(0x1e3)),axios=require(_0x5a7f75(0x1d1)),{default:makeWASocket,useSingleFileAuthState,DisconnectReason,WAPresence,fetchLatestBaileysVersion,makeInMemoryStore,MessageType,Mimetype}=require(_0x5a7f75(0x1d9)),{Boom}=require(_0x5a7f75(0x20a)),{state,saveState}=useSingleFileAuthState(_0x5a7f75(0x19b)),MAIN_LOGGER=require(_0x5a7f75(0x1cd))[_0x5a7f75(0x1dc)],logger=MAIN_LOGGER[_0x5a7f75(0x1be)]({});logger['level']=_0x5a7f75(0x1ef);const config=require(_0x5a7f75(0x1c6)),pino=require(_0x5a7f75(0x1fe)),store=makeInMemoryStore({'logger':pino()[_0x5a7f75(0x1be)]({'level':_0x5a7f75(0x1ef),'stream':_0x5a7f75(0x1bf)})});prefix=config['HANDLERS'],fs[_0x5a7f75(0x1bd)](_0x5a7f75(0x1ab))[_0x5a7f75(0x1cc)](_0x18ae4f=>{const _0x1abb54=_0x5a7f75;path[_0x1abb54(0x1d4)](_0x18ae4f)[_0x1abb54(0x1f1)]()==_0x1abb54(0x1f6)&&require(_0x1abb54(0x1ab)+_0x18ae4f);});const plugindb=require('./lib/sql/plugin');function _0x3221(){const _0x55c0f0=['./lib/','got','log','Disconnected:\x20','user','error','./plugins/','connectionClosed','commands','map','3911410tUCFVg','28ofhXOa','silent','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','toLowerCase','video','unavailable','pattern','8889996EJfQdO','.js','Bot\x20working...','videoMessage','sendMessage','statusCode','message','loggedOut','remove','pino','Bot\x20connected..','DATABASE','now','connectionReplaced','jid','timedOut','remoteJid','⬇️\x20\x20Installing\x20plugins...','NO_ONLINE','image','prototype','@hapi/boom','text','./session.json','fromMe','undefined','format','4csCWqS','onlyPinned','chats','messages.upsert','photo','restartRequired','creds.update','length','PluginDB','key','name','updatePresence','./lib/sql/','includes','open','body','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','./lib/inrl','goodbye','7451968MtWSLJ','delete','match','deleteCommand','10wXnBmJ','sequelize','splice','connection.update','url','participant','✅\x20Plugins\x20Installed...','readdirSync','child','store','writeFileSync','bind','*Wa-Bot-Md\x20Working*','pin','imageMessage','extendedTextMessage','./config','getTime','status@broadcast','replace','88922MRZOwi','caption','forEach','@adiwajshing/baileys/lib/Utils/logger','Connection\x20timed\x20out,\x20Reconnecting...','1671603IscHPC','test','axios','split','existsSync','extname','3827719SAKQDc','32158377grCpjs','logout','indexOf','@adiwajshing/baileys','chatRead','dataValues','default','./plugins','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','messageStubType','output','Wa-Bot\x20Connecting\x20to\x20whatsapp','SUDO'];_0x3221=function(){return _0x55c0f0;};return _0x3221();}String[_0x5a7f75(0x209)][_0x5a7f75(0x19e)]=function(){const _0x21a29b=_0x5a7f75;var _0x46ad38=0x0,_0x17eb1c=arguments;return this[_0x21a29b(0x1c9)](/{}/g,function(){const _0x39ecb2=_0x21a29b;return typeof _0x17eb1c[_0x46ad38]!=_0x39ecb2(0x19d)?_0x17eb1c[_0x46ad38++]:'';});};!Date[_0x5a7f75(0x201)]&&(Date[_0x5a7f75(0x201)]=function(){const _0x2d3d5e=_0x5a7f75;return new Date()[_0x2d3d5e(0x1c7)]();});Array['prototype'][_0x5a7f75(0x1fd)]=function(){const _0x1c1cf7=_0x5a7f75;var _0x2cd313,_0x40173c=arguments,_0x15348d=_0x40173c[_0x1c1cf7(0x1a6)],_0x1d60e4;while(_0x15348d&&this[_0x1c1cf7(0x1a6)]){_0x2cd313=_0x40173c[--_0x15348d];while((_0x1d60e4=this[_0x1c1cf7(0x1d8)](_0x2cd313))!==-0x1){this[_0x1c1cf7(0x1b8)](_0x1d60e4,0x1);}}return this;};const startSock=async()=>{const _0xe9a696=_0x5a7f75;await config[_0xe9a696(0x200)]['sync'](),console[_0xe9a696(0x1e5)](_0xe9a696(0x1e1));const {version:_0x163f31}=await fetchLatestBaileysVersion(),_0x11993f=makeWASocket({'logger':logger,'version':_0x163f31,'printQRInTerminal':![],'auth':state});console[_0xe9a696(0x1e5)](_0xe9a696(0x1ff)),store[_0xe9a696(0x1c1)](_0x11993f['ev']),_0x11993f['ev']['on'](_0xe9a696(0x1b9),async _0x132b13=>{const _0x12a617=_0xe9a696,{connection:_0x1ddc21,lastDisconnect:_0x209b14}=_0x132b13;console['log']('⬇️\x20Installing\x20external\x20plugins...');if(_0x1ddc21==_0x12a617(0x1ad)){var _0x148a80=await plugindb[_0x12a617(0x1a7)]['findAll']();_0x148a80['map'](async _0x57cb94=>{const _0x10cfbb=_0x12a617;if(!fs[_0x10cfbb(0x1d3)](_0x10cfbb(0x1e9)+_0x57cb94[_0x10cfbb(0x1db)]['name']+_0x10cfbb(0x1f6))){console[_0x10cfbb(0x1e5)](_0x57cb94['dataValues'][_0x10cfbb(0x1a9)]);var _0x2cc5d1=await got(_0x57cb94['dataValues'][_0x10cfbb(0x1ba)]);_0x2cc5d1[_0x10cfbb(0x1fa)]==0xc8&&(fs[_0x10cfbb(0x1c0)](_0x10cfbb(0x1e9)+_0x57cb94[_0x10cfbb(0x1db)][_0x10cfbb(0x1a9)]+_0x10cfbb(0x1f6),_0x2cc5d1[_0x10cfbb(0x1ae)]),require(_0x10cfbb(0x1e9)+_0x57cb94[_0x10cfbb(0x1db)][_0x10cfbb(0x1a9)]+_0x10cfbb(0x1f6)));}}),console['log'](_0x12a617(0x206)),fs[_0x12a617(0x1bd)](_0x12a617(0x1dd))[_0x12a617(0x1cc)](_0x5eb047=>{const _0x38de95=_0x12a617;path[_0x38de95(0x1d4)](_0x5eb047)['toLowerCase']()==_0x38de95(0x1f6)&&require('./plugins/'+_0x5eb047);});}console['log'](_0x12a617(0x1bc)),console['log'](_0x12a617(0x1f7)),await _0x11993f[_0x12a617(0x1f9)](_0x11993f[_0x12a617(0x1e7)]['id'],{'text':_0x12a617(0x1c2)}),_0x11993f['ev']['on'](_0x12a617(0x1a2),async _0x599130=>{const _0x51d459=_0x12a617;if(_0x599130['key']&&_0x599130[_0x51d459(0x1a8)][_0x51d459(0x205)]==_0x51d459(0x1c8))return;config[_0x51d459(0x207)]&&await _0x11993f[_0x51d459(0x1aa)](_0x599130['key']['remoteJid'],WAPresence[_0x51d459(0x1f3)]);if(_0x599130[_0x51d459(0x1df)]===0x20||_0x599130[_0x51d459(0x1df)]===0x1c){var _0x2a7fac=await getMessage(_0x599130['key'][_0x51d459(0x205)],_0x51d459(0x1b1));_0x2a7fac!==![]&&await _0x11993f[_0x51d459(0x1f9)](_0x599130[_0x51d459(0x1a8)][_0x51d459(0x205)],_0x2a7fac[_0x51d459(0x1fb)],MessageType[_0x51d459(0x19a)]);return;}else{if(_0x599130['messageStubType']===0x1b||_0x599130[_0x51d459(0x1df)]===0x1f){var _0x2a7fac=await getMessage(_0x599130['key'][_0x51d459(0x205)]);_0x2a7fac!==![]&&await _0x11993f[_0x51d459(0x1f9)](_0x599130[_0x51d459(0x1a8)][_0x51d459(0x205)],_0x2a7fac[_0x51d459(0x1fb)],MessageType[_0x51d459(0x19a)]);return;}}events[_0x51d459(0x1eb)][_0x51d459(0x1ec)](async _0x5e3985=>{const _0x11f6bd=_0x51d459;if(_0x599130[_0x11f6bd(0x1fb)]&&_0x599130[_0x11f6bd(0x1fb)]['imageMessage']&&_0x599130['message']['imageMessage'][_0x11f6bd(0x1cb)])var _0x290ec4=_0x599130['message']['imageMessage'][_0x11f6bd(0x1cb)];else{if(_0x599130[_0x11f6bd(0x1fb)]&&_0x599130[_0x11f6bd(0x1fb)][_0x11f6bd(0x1f8)]&&_0x599130[_0x11f6bd(0x1fb)]['videoMessage'][_0x11f6bd(0x1cb)])var _0x290ec4=_0x599130[_0x11f6bd(0x1fb)][_0x11f6bd(0x1f8)][_0x11f6bd(0x1cb)];else{if(_0x599130[_0x11f6bd(0x1fb)])var _0x290ec4=_0x599130[_0x11f6bd(0x1fb)][_0x11f6bd(0x1c5)]===null?_0x599130['message']['conversation']:_0x599130['message'][_0x11f6bd(0x1c5)][_0x11f6bd(0x19a)];else var _0x290ec4=undefined;}}if(_0x5e3985['on']!==undefined&&(_0x5e3985['on']===_0x11f6bd(0x208)||_0x5e3985['on']===_0x11f6bd(0x1a3))&&_0x599130['message']&&_0x599130['message'][_0x11f6bd(0x1c4)]!==null&&(_0x5e3985[_0x11f6bd(0x1f4)]===undefined||_0x5e3985[_0x11f6bd(0x1f4)]!==undefined&&_0x5e3985[_0x11f6bd(0x1f4)][_0x11f6bd(0x1d0)](_0x290ec4))||_0x5e3985[_0x11f6bd(0x1f4)]!==undefined&&_0x5e3985['pattern'][_0x11f6bd(0x1d0)](_0x290ec4)||_0x5e3985['on']!==undefined&&_0x5e3985['on']==='text'&&_0x290ec4||_0x5e3985['on']!==undefined&&_0x5e3985['on']===_0x11f6bd(0x1f2)&&_0x599130[_0x11f6bd(0x1fb)]&&_0x599130['message']['videoMessage']!==null&&(_0x5e3985['pattern']===undefined||_0x5e3985[_0x11f6bd(0x1f4)]!==undefined&&_0x5e3985[_0x11f6bd(0x1f4)][_0x11f6bd(0x1d0)](_0x290ec4))){let _0x277c1a=![];var _0x3aa604=_0x11993f[_0x11f6bd(0x1a1)]['get'](_0x599130[_0x11f6bd(0x1a8)]['remoteJid']);if(config[_0x11f6bd(0x1e2)]!==![]&&_0x599130['key'][_0x11f6bd(0x19c)]===![]&&_0x5e3985['fromMe']===!![]&&(_0x599130[_0x11f6bd(0x1bb)]&&config[_0x11f6bd(0x1e2)][_0x11f6bd(0x1ac)](',')?config[_0x11f6bd(0x1e2)][_0x11f6bd(0x1d2)](',')['includes'](_0x599130[_0x11f6bd(0x1bb)][_0x11f6bd(0x1d2)]('@')[0x0]):_0x599130[_0x11f6bd(0x1bb)][_0x11f6bd(0x1d2)]('@')[0x0]==config[_0x11f6bd(0x1e2)]||config[_0x11f6bd(0x1e2)]['includes'](',')?config[_0x11f6bd(0x1e2)]['split'](',')[_0x11f6bd(0x1ac)](_0x599130['key']['remoteJid'][_0x11f6bd(0x1d2)]('@')[0x0]):_0x599130[_0x11f6bd(0x1a8)][_0x11f6bd(0x205)][_0x11f6bd(0x1d2)]('@')[0x0]==config[_0x11f6bd(0x1e2)])||_0x5e3985[_0x11f6bd(0x19c)]===_0x599130[_0x11f6bd(0x1a8)][_0x11f6bd(0x19c)]||_0x5e3985[_0x11f6bd(0x19c)]===![]&&!_0x599130[_0x11f6bd(0x1a8)][_0x11f6bd(0x19c)]){if(_0x5e3985[_0x11f6bd(0x1a0)]&&_0x3aa604[_0x11f6bd(0x1c3)]===undefined)return;if(!_0x5e3985['onlyPm']===_0x3aa604[_0x11f6bd(0x203)][_0x11f6bd(0x1ac)]('-'))_0x277c1a=!![];else{if(_0x5e3985['onlyGroup']===_0x3aa604[_0x11f6bd(0x203)][_0x11f6bd(0x1ac)]('-'))_0x277c1a=!![];}}if(_0x277c1a){config['SEND_READ']&&_0x5e3985['on']===undefined&&await _0x11993f[_0x11f6bd(0x1da)](_0x599130[_0x11f6bd(0x1a8)][_0x11f6bd(0x205)]);var _0x219295=_0x290ec4[_0x11f6bd(0x1b4)](_0x5e3985['pattern']);if(_0x5e3985['on']!==undefined&&(_0x5e3985['on']===_0x11f6bd(0x208)||_0x5e3985['on']===_0x11f6bd(0x1a3))&&_0x599130[_0x11f6bd(0x1fb)][_0x11f6bd(0x1c4)]!==null)whats=new Image(_0x11993f,_0x599130);else _0x5e3985['on']!==undefined&&_0x5e3985['on']==='video'&&_0x599130['message']['videoMessage']!==null?whats=new Video(_0x11993f,_0x599130):whats=new Message(_0x11993f,_0x599130);_0x5e3985[_0x11f6bd(0x1b5)]&&_0x599130[_0x11f6bd(0x1a8)][_0x11f6bd(0x19c)]&&await whats[_0x11f6bd(0x1b3)]();}}});});if(_0x1ddc21!=='close')return;let _0x222b9d=new Boom(_0x209b14?.['error'])?.[_0x12a617(0x1e0)]?.['statusCode'];const _0x2ae823=DisconnectReason;if(_0x222b9d===_0x2ae823['badSession']){console['log'](_0x12a617(0x1de)),_0x11993f[_0x12a617(0x1d7)]();return;}if(_0x222b9d===_0x2ae823[_0x12a617(0x1ea)]){console[_0x12a617(0x1e5)]('Connection\x20closed.\x20Reconnecting...'),startSock();return;}if(_0x222b9d===_0x2ae823['connectionLost']){console[_0x12a617(0x1e5)](_0x12a617(0x1af)),startSock();return;}if(_0x222b9d===_0x2ae823[_0x12a617(0x202)]){console[_0x12a617(0x1e5)](_0x12a617(0x1f0)),_0x11993f[_0x12a617(0x1d7)]();return;}if(_0x222b9d===_0x2ae823[_0x12a617(0x1fc)]){console[_0x12a617(0x1e5)]('Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.'),_0x11993f[_0x12a617(0x1d7)]();return;}if(_0x222b9d===_0x2ae823[_0x12a617(0x1a4)]){console[_0x12a617(0x1e5)]('Kingdom\x20needed.\x20restarting...'),startSock();return;}if(_0x222b9d===_0x2ae823[_0x12a617(0x204)]){console['log'](_0x12a617(0x1ce)),startSock();return;}_0x11993f['end'](_0x12a617(0x1e6)+_0x222b9d+'|'+_0x209b14[_0x12a617(0x1e8)]);}),_0x11993f['ev']['on'](_0xe9a696(0x1a5),saveState);};startSock();
