/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x2cb83e=_0x2853;(function(_0x534a76,_0x379214){const _0x27a374=_0x2853,_0x4c152b=_0x534a76();while(!![]){try{const _0xc48ea5=-parseInt(_0x27a374(0x145))/0x1*(-parseInt(_0x27a374(0x16b))/0x2)+-parseInt(_0x27a374(0x132))/0x3*(parseInt(_0x27a374(0x15d))/0x4)+parseInt(_0x27a374(0xfc))/0x5*(-parseInt(_0x27a374(0x10b))/0x6)+-parseInt(_0x27a374(0x141))/0x7*(parseInt(_0x27a374(0x117))/0x8)+-parseInt(_0x27a374(0x167))/0x9+-parseInt(_0x27a374(0x149))/0xa*(parseInt(_0x27a374(0x147))/0xb)+-parseInt(_0x27a374(0x12e))/0xc*(-parseInt(_0x27a374(0x14d))/0xd);if(_0xc48ea5===_0x379214)break;else _0x4c152b['push'](_0x4c152b['shift']());}catch(_0xafbcf5){_0x4c152b['push'](_0x4c152b['shift']());}}}(_0x172b,0x640e3));const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x2cb83e(0x10f)),{Boom}=require(_0x2cb83e(0x161)),{state,saveState}=useSingleFileAuthState('./session.json'),MAIN_LOGGER=require('@adiwajshing/baileys/lib/Utils/logger')[_0x2cb83e(0x151)],logger=MAIN_LOGGER[_0x2cb83e(0x113)]({});logger[_0x2cb83e(0x152)]='silent';const config=require(_0x2cb83e(0x11a)),pino=require(_0x2cb83e(0x100)),store=makeInMemoryStore({'logger':pino()[_0x2cb83e(0x113)]({'level':_0x2cb83e(0x160),'stream':_0x2cb83e(0x10d)})}),fs=require('fs'),path=require(_0x2cb83e(0x122)),events=require('./lib/inrl'),{Message,Image,Video}=require('./lib/'),{DataTypes}=require(_0x2cb83e(0x133)),{GreetingsDB,getMessage}=require(_0x2cb83e(0x13a)),got=require('got'),prefix=config['PREFIX'];function _0x2853(_0x181449,_0x187972){const _0x172bf4=_0x172b();return _0x2853=function(_0x285360,_0x1188e1){_0x285360=_0x285360-0xf7;let _0x3b5891=_0x172bf4[_0x285360];return _0x3b5891;},_0x2853(_0x181449,_0x187972);}function _0x172b(){const _0x40c863=['test','Kingdom\x20needed.\x20restarting...','./lib/sql/plugin','conversation','existsSync','function','78jUENyn','status@broadcast','store','log','@adiwajshing/baileys','connectionReplaced','connectionLost','creds.update','child','timedOut','error','imageMessage','3103376jOPprU','key','Bot\x20connected.✅️\x20To\x20Whatsapp...','./config','./lib/sql/','onlyPm','splice','name','now','end','chatRead','path','deleteCommand','connection.update','SUDO','updatePresence','sendMessage','split','unavailable','message-new','remoteJid','fromMe','Disconnected:\x20','4920IXxtYI','onlyGroup','commands','photo','42mMLuZy','sequelize','PluginDB','url','✅\x20Plugins\x20installed!','readdirSync','prototype','pattern','./lib/sql/greetings','Bot\x20working...','DATABASE','Wa-Bot\x20Connecting\x20to\x20whatsapp','.js','body','SEND_READ','14KRzcSy','indexOf','badSession','connectionClosed','281022wNZUUT','*Wa-Bot-Md\x20Working*','957mnbRrr','delete','36910BwUBli','map','NO_ONLINE','DB\x20syncing','80847gwyKpq','remove','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','⬇️\x20Installing\x20external\x20plugins...','default','level','statusCode','message','bind','logout','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','text','videoMessage','caption','forEach','video','230268GVVjEX','loggedOut','sync','silent','@hapi/boom','image','open','jid','get','dataValues','3733092PeiVJT','writeFileSync','match','extname','2ntbnBf','user','extendedTextMessage','participant','./plugins','./plugins/','39730CJTFdr','onlyPinned','toLowerCase','includes','pino','length','Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.','findAll','messageStubType'];_0x172b=function(){return _0x40c863;};return _0x172b();}fs[_0x2cb83e(0x137)](_0x2cb83e(0x11b))[_0x2cb83e(0x15b)](_0x339480=>{const _0x2d0d7d=_0x2cb83e;path['extname'](_0x339480)[_0x2d0d7d(0xfe)]()==_0x2d0d7d(0x13e)&&require('./lib/sql/'+_0x339480);});const plugindb=require(_0x2cb83e(0x107));String[_0x2cb83e(0x138)]['format']=function(){var _0x7ba047=0x0,_0x13ca99=arguments;return this['replace'](/{}/g,function(){return typeof _0x13ca99[_0x7ba047]!='undefined'?_0x13ca99[_0x7ba047++]:'';});};!Date['now']&&(Date[_0x2cb83e(0x11f)]=function(){return new Date()['getTime']();});Array[_0x2cb83e(0x138)][_0x2cb83e(0x14e)]=function(){const _0x30dab2=_0x2cb83e;var _0x38e443,_0x5c7bc7=arguments,_0x4ab9ba=_0x5c7bc7['length'],_0x877392;while(_0x4ab9ba&&this[_0x30dab2(0x101)]){_0x38e443=_0x5c7bc7[--_0x4ab9ba];while((_0x877392=this[_0x30dab2(0x142)](_0x38e443))!==-0x1){this[_0x30dab2(0x11d)](_0x877392,0x1);}}return this;};const startSock=async()=>{const _0x43d3b7=_0x2cb83e;await config[_0x43d3b7(0x13c)][_0x43d3b7(0x15f)](),console[_0x43d3b7(0x10e)](_0x43d3b7(0x14c)),console[_0x43d3b7(0x10e)](_0x43d3b7(0x13d));const {version:_0x3a6aef}=await fetchLatestBaileysVersion(),_0x44ccaf=makeWASocket({'logger':logger,'version':_0x3a6aef,'printQRInTerminal':![],'auth':state});console[_0x43d3b7(0x10e)](_0x43d3b7(0x119)),store[_0x43d3b7(0x155)](_0x44ccaf['ev']),_0x44ccaf['ev']['on'](_0x43d3b7(0x124),async _0x3b3ae2=>{const _0x2dea30=_0x43d3b7,{connection:_0x1849a8,lastDisconnect:_0xdd3a49}=_0x3b3ae2;_0x1849a8&&console[_0x2dea30(0x10e)]('Connection\x20Status:\x20',_0x1849a8);if(_0x1849a8==_0x2dea30(0x163)){console[_0x2dea30(0x10e)](_0x2dea30(0x150));var _0x29794b=await plugindb[_0x2dea30(0x134)][_0x2dea30(0x103)]();_0x29794b[_0x2dea30(0x14a)](async _0x294b44=>{const _0x49a71c=_0x2dea30;if(!fs[_0x49a71c(0x109)]('./plugins/'+_0x294b44[_0x49a71c(0x166)][_0x49a71c(0x11e)]+_0x49a71c(0x13e))){console[_0x49a71c(0x10e)](_0x294b44[_0x49a71c(0x166)][_0x49a71c(0x11e)]);var _0x15f38a=await got(_0x294b44[_0x49a71c(0x166)][_0x49a71c(0x135)]);_0x15f38a[_0x49a71c(0x153)]==0xc8&&(fs[_0x49a71c(0x168)]('./plugins/'+_0x294b44[_0x49a71c(0x166)][_0x49a71c(0x11e)]+_0x49a71c(0x13e),_0x15f38a[_0x49a71c(0x13f)]),require(_0x49a71c(0xfb)+_0x294b44['dataValues'][_0x49a71c(0x11e)]+'.js'));}}),fs['readdirSync'](_0x2dea30(0xfa))['forEach'](_0x5c988e=>{const _0xa140fe=_0x2dea30;path[_0xa140fe(0x16a)](_0x5c988e)[_0xa140fe(0xfe)]()==_0xa140fe(0x13e)&&require(_0xa140fe(0xfb)+_0x5c988e);}),console[_0x2dea30(0x10e)](_0x2dea30(0x136)),console[_0x2dea30(0x10e)](_0x2dea30(0x13b)),await _0x44ccaf[_0x2dea30(0x127)](_0x44ccaf[_0x2dea30(0xf7)]['id'],{'text':_0x2dea30(0x146)});}}),_0x44ccaf['ev']['on'](_0x43d3b7(0x12a),async _0x5881c9=>{const _0x236f0f=_0x43d3b7;if(_0x5881c9[_0x236f0f(0x118)]&&_0x5881c9[_0x236f0f(0x118)][_0x236f0f(0x12b)]==_0x236f0f(0x10c))return;config[_0x236f0f(0x14b)]&&await conn[_0x236f0f(0x126)](_0x5881c9[_0x236f0f(0x118)][_0x236f0f(0x12b)],Presence[_0x236f0f(0x129)]);if(_0x5881c9[_0x236f0f(0x104)]===0x20||_0x5881c9[_0x236f0f(0x104)]===0x1c){var _0x4b0ab1=await getMessage(_0x5881c9[_0x236f0f(0x118)]['remoteJid'],'goodbye');_0x4b0ab1!==![]&&await conn[_0x236f0f(0x127)](_0x5881c9[_0x236f0f(0x118)][_0x236f0f(0x12b)],_0x4b0ab1[_0x236f0f(0x154)],MessageType['text']);return;}else{if(_0x5881c9['messageStubType']===0x1b||_0x5881c9[_0x236f0f(0x104)]===0x1f){var _0x4b0ab1=await getMessage(_0x5881c9['key'][_0x236f0f(0x12b)]);_0x4b0ab1!==![]&&await conn[_0x236f0f(0x127)](_0x5881c9[_0x236f0f(0x118)][_0x236f0f(0x12b)],_0x4b0ab1[_0x236f0f(0x154)],MessageType['text']);return;}}events[_0x236f0f(0x130)][_0x236f0f(0x14a)](async _0x58b3b8=>{const _0x1825c8=_0x236f0f;if(_0x5881c9['message']&&_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0x116)]&&_0x5881c9[_0x1825c8(0x154)]['imageMessage'][_0x1825c8(0x15a)])var _0x5b8f3a=_0x5881c9['message'][_0x1825c8(0x116)][_0x1825c8(0x15a)];else{if(_0x5881c9[_0x1825c8(0x154)]&&_0x5881c9['message'][_0x1825c8(0x159)]&&_0x5881c9[_0x1825c8(0x154)]['videoMessage'][_0x1825c8(0x15a)])var _0x5b8f3a=_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0x159)][_0x1825c8(0x15a)];else{if(_0x5881c9['message'])var _0x5b8f3a=_0x5881c9[_0x1825c8(0x154)]['extendedTextMessage']===null?_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0x108)]:_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0xf8)][_0x1825c8(0x158)];else var _0x5b8f3a=undefined;}}if(_0x58b3b8['on']!==undefined&&(_0x58b3b8['on']===_0x1825c8(0x162)||_0x58b3b8['on']===_0x1825c8(0x131))&&_0x5881c9[_0x1825c8(0x154)]&&_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0x116)]!==null&&(_0x58b3b8[_0x1825c8(0x139)]===undefined||_0x58b3b8[_0x1825c8(0x139)]!==undefined&&_0x58b3b8['pattern']['test'](_0x5b8f3a))||_0x58b3b8['pattern']!==undefined&&_0x58b3b8[_0x1825c8(0x139)]['test'](_0x5b8f3a)||_0x58b3b8['on']!==undefined&&_0x58b3b8['on']===_0x1825c8(0x158)&&_0x5b8f3a||_0x58b3b8['on']!==undefined&&_0x58b3b8['on']===_0x1825c8(0x15c)&&_0x5881c9[_0x1825c8(0x154)]&&_0x5881c9[_0x1825c8(0x154)]['videoMessage']!==null&&(_0x58b3b8[_0x1825c8(0x139)]===undefined||_0x58b3b8[_0x1825c8(0x139)]!==undefined&&_0x58b3b8[_0x1825c8(0x139)][_0x1825c8(0x105)](_0x5b8f3a))){let _0x37231c=![];var _0x8ab4fe=_0x44ccaf['chats'][_0x1825c8(0x165)](_0x5881c9[_0x1825c8(0x118)][_0x1825c8(0x12b)]);if(config[_0x1825c8(0x125)]!==![]&&_0x5881c9[_0x1825c8(0x118)][_0x1825c8(0x12c)]===![]&&_0x58b3b8['fromMe']===!![]&&(_0x5881c9['participant']&&config[_0x1825c8(0x125)][_0x1825c8(0xff)](',')?config[_0x1825c8(0x125)][_0x1825c8(0x128)](',')[_0x1825c8(0xff)](_0x5881c9['participant'][_0x1825c8(0x128)]('@')[0x0]):_0x5881c9[_0x1825c8(0xf9)]['split']('@')[0x0]==config['SUDO']||config[_0x1825c8(0x125)]['includes'](',')?config['SUDO']['split'](',')[_0x1825c8(0xff)](_0x5881c9['key'][_0x1825c8(0x12b)]['split']('@')[0x0]):_0x5881c9[_0x1825c8(0x118)]['remoteJid'][_0x1825c8(0x128)]('@')[0x0]==config[_0x1825c8(0x125)])||_0x58b3b8['fromMe']===_0x5881c9[_0x1825c8(0x118)][_0x1825c8(0x12c)]||_0x58b3b8[_0x1825c8(0x12c)]===![]&&!_0x5881c9[_0x1825c8(0x118)][_0x1825c8(0x12c)]){if(_0x58b3b8[_0x1825c8(0xfd)]&&_0x8ab4fe['pin']===undefined)return;if(!_0x58b3b8[_0x1825c8(0x11c)]===_0x8ab4fe[_0x1825c8(0x164)]['includes']('-'))_0x37231c=!![];else{if(_0x58b3b8[_0x1825c8(0x12f)]===_0x8ab4fe[_0x1825c8(0x164)]['includes']('-'))_0x37231c=!![];}}if(_0x37231c){config[_0x1825c8(0x140)]&&_0x58b3b8['on']===undefined&&await _0x44ccaf[_0x1825c8(0x121)](_0x5881c9['key'][_0x1825c8(0x12b)]);var _0xe42ef=_0x5b8f3a[_0x1825c8(0x169)](_0x58b3b8[_0x1825c8(0x139)]);if(_0x58b3b8['on']!==undefined&&(_0x58b3b8['on']===_0x1825c8(0x162)||_0x58b3b8['on']==='photo')&&_0x5881c9[_0x1825c8(0x154)][_0x1825c8(0x116)]!==null)whats=new Image(_0x44ccaf,_0x5881c9);else _0x58b3b8['on']!==undefined&&_0x58b3b8['on']==='video'&&_0x5881c9['message'][_0x1825c8(0x159)]!==null?whats=new Video(_0x44ccaf,_0x5881c9):whats=new Message(_0x44ccaf,_0x5881c9);_0x58b3b8[_0x1825c8(0x123)]&&_0x5881c9[_0x1825c8(0x118)]['fromMe']&&await whats[_0x1825c8(0x148)]();{await _0x58b3b8[_0x1825c8(0x10a)](whats,_0xe42ef);}}}});});if(connection!=='close')return;let _0x48c9be=new Boom(lastDisconnect?.[_0x43d3b7(0x115)])?.['output']?.[_0x43d3b7(0x153)];const _0x41452b=DisconnectReason;if(_0x48c9be===_0x41452b[_0x43d3b7(0x143)]){console['log'](_0x43d3b7(0x14f)),_0x44ccaf[_0x43d3b7(0x156)]();return;}if(_0x48c9be===_0x41452b[_0x43d3b7(0x144)]){console[_0x43d3b7(0x10e)]('Connection\x20closed.\x20Reconnecting...'),startSock();return;}if(_0x48c9be===_0x41452b[_0x43d3b7(0x111)]){console[_0x43d3b7(0x10e)](_0x43d3b7(0x157)),startSock();return;}if(_0x48c9be===_0x41452b[_0x43d3b7(0x110)]){console[_0x43d3b7(0x10e)]('Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.'),_0x44ccaf[_0x43d3b7(0x156)]();return;}if(_0x48c9be===_0x41452b[_0x43d3b7(0x15e)]){console[_0x43d3b7(0x10e)](_0x43d3b7(0x102)),_0x44ccaf['logout']();return;}if(_0x48c9be===_0x41452b['restartRequired']){console['log'](_0x43d3b7(0x106)),startSock();return;}if(_0x48c9be===_0x41452b[_0x43d3b7(0x114)]){console[_0x43d3b7(0x10e)]('Connection\x20timed\x20out,\x20Reconnecting...'),startSock();return;}_0x44ccaf[_0x43d3b7(0x120)](_0x43d3b7(0x12d)+_0x48c9be+'|'+lastDisconnect[_0x43d3b7(0x115)]),_0x44ccaf['ev']['on'](_0x43d3b7(0x112),saveState);};startSock();
