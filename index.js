/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x1398f9=_0x2a35;(function(_0x389af9,_0x325f1d){const _0x2e3907=_0x2a35,_0x136bb8=_0x389af9();while(!![]){try{const _0xe11c89=-parseInt(_0x2e3907(0xc0))/0x1+-parseInt(_0x2e3907(0xd2))/0x2+parseInt(_0x2e3907(0xcc))/0x3+parseInt(_0x2e3907(0x109))/0x4*(-parseInt(_0x2e3907(0xd1))/0x5)+parseInt(_0x2e3907(0xc7))/0x6+-parseInt(_0x2e3907(0xcd))/0x7*(-parseInt(_0x2e3907(0xb9))/0x8)+-parseInt(_0x2e3907(0xbb))/0x9;if(_0xe11c89===_0x325f1d)break;else _0x136bb8['push'](_0x136bb8['shift']());}catch(_0x36b56e){_0x136bb8['push'](_0x136bb8['shift']());}}}(_0x993e,0x77516));const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x1398f9(0xe3)),{Boom}=require('@hapi/boom'),{state,saveState}=useSingleFileAuthState(_0x1398f9(0xf7)),MAIN_LOGGER=require(_0x1398f9(0xb3))['default'],logger=MAIN_LOGGER[_0x1398f9(0xf1)]({});logger[_0x1398f9(0xf3)]=_0x1398f9(0xc4);const config=require('./config'),pino=require(_0x1398f9(0xf8)),store=makeInMemoryStore({'logger':pino()['child']({'level':_0x1398f9(0xc4),'stream':_0x1398f9(0xe5)})}),fs=require('fs'),path=require(_0x1398f9(0xba)),events=require(_0x1398f9(0xd6)),{Message,Image,Video}=require(_0x1398f9(0x10b)),{DataTypes}=require(_0x1398f9(0xd0)),{GreetingsDB,getMessage}=require('./lib/sql/greetings'),got=require(_0x1398f9(0xe2)),prefix=config[_0x1398f9(0xbc)];fs[_0x1398f9(0xbd)](_0x1398f9(0xd9))[_0x1398f9(0xb4)](_0x3a1790=>{const _0x46c304=_0x1398f9;path['extname'](_0x3a1790)[_0x46c304(0xeb)]()==_0x46c304(0xb6)&&require(_0x46c304(0xd9)+_0x3a1790);});const plugindb=require('./lib/sql/plugin');function _0x2a35(_0x5ce57e,_0xe3720){const _0x993e12=_0x993e();return _0x2a35=function(_0x2a35a9,_0x1ac1d2){_0x2a35a9=_0x2a35a9-0xb2;let _0x4ee379=_0x993e12[_0x2a35a9];return _0x4ee379;},_0x2a35(_0x5ce57e,_0xe3720);}String['prototype']['format']=function(){var _0x74483f=0x0,_0xdd4236=arguments;return this['replace'](/{}/g,function(){const _0x4dda12=_0x2a35;return typeof _0xdd4236[_0x74483f]!=_0x4dda12(0xc3)?_0xdd4236[_0x74483f++]:'';});};!Date['now']&&(Date['now']=function(){const _0x51d012=_0x1398f9;return new Date()[_0x51d012(0xcf)]();});Array[_0x1398f9(0xfe)][_0x1398f9(0xfc)]=function(){const _0x55ff33=_0x1398f9;var _0x24015b,_0x2b9f72=arguments,_0x3167a6=_0x2b9f72[_0x55ff33(0xde)],_0x199a92;while(_0x3167a6&&this['length']){_0x24015b=_0x2b9f72[--_0x3167a6];while((_0x199a92=this[_0x55ff33(0x101)](_0x24015b))!==-0x1){this[_0x55ff33(0xf6)](_0x199a92,0x1);}}return this;};function _0x993e(){const _0x3a3621=['./lib/sql/','test','url','message-new','Wa-Bot\x20Connecting\x20to\x20whatsapp','length','Connected...','jid','map','got','@adiwajshing/baileys','./plugins','store','extendedTextMessage','imageMessage','onlyPinned','status@broadcast','video','toLowerCase','⬇️\x20Installing\x20external\x20plugins...','deleteCommand','NO_ONLINE','delete','get','child','Bot\x20working...🤙','level','key','photo','splice','./session.json','pino','includes','pattern','function','remove','image','prototype','DATABASE','message','indexOf','DB\x20syncing','writeFileSync','bind','split','videoMessage','pin','messages.upsert','109372vbdLgp','chats','./lib/','caption','@adiwajshing/baileys/lib/Utils/logger','forEach','messageStubType','.js','remoteJid','log','24qqaLPX','path','6781302oFujPc','HANDLERS','readdirSync','dataValues','sync','182067FHaRoh','goodbye','text','undefined','silent','updatePresence','name','4881738hXMtIq','SEND_READ','sendMessage','fromMe','body','2050680mtQEIf','1863666majdMr','SUDO','getTime','sequelize','125oZuFbQ','376102KelqtC','participant','✅\x20Plugins\x20installed!','./plugins/','./lib/inrl','existsSync','match'];_0x993e=function(){return _0x3a3621;};return _0x993e();}const startSock=async()=>{const _0x36d6a8=_0x1398f9;await config[_0x36d6a8(0xff)][_0x36d6a8(0xbf)](),console['log'](_0x36d6a8(0x102)),console['log'](_0x36d6a8(0xdd));const {version:_0x52c5a9}=await fetchLatestBaileysVersion(),_0x2b1ae3=makeWASocket({'logger':logger,'version':_0x52c5a9,'printQRInTerminal':![],'auth':state});console[_0x36d6a8(0xb8)]('Bot\x20connected.✅️\x20To\x20Whatsapp...'),store[_0x36d6a8(0x104)](_0x2b1ae3['ev']),_0x2b1ae3['ev']['on'](_0x36d6a8(0x108),async _0x3cdf5c=>{const _0x3213a4=_0x36d6a8;console[_0x3213a4(0xb8)](_0x3213a4(0xec));var _0xa13813=await plugindb['PluginDB']['findAll']();_0xa13813[_0x3213a4(0xe1)](async _0x2b74be=>{const _0x463e78=_0x3213a4;if(!fs[_0x463e78(0xd7)](_0x463e78(0xd5)+_0x2b74be[_0x463e78(0xbe)][_0x463e78(0xc6)]+_0x463e78(0xb6))){console[_0x463e78(0xb8)](_0x2b74be[_0x463e78(0xbe)][_0x463e78(0xc6)]);var _0x263d1a=await got(_0x2b74be['dataValues'][_0x463e78(0xdb)]);_0x263d1a['statusCode']==0xc8&&(fs[_0x463e78(0x103)](_0x463e78(0xd5)+_0x2b74be[_0x463e78(0xbe)][_0x463e78(0xc6)]+_0x463e78(0xb6),_0x263d1a[_0x463e78(0xcb)]),require(_0x463e78(0xd5)+_0x2b74be[_0x463e78(0xbe)]['name']+_0x463e78(0xb6)));}}),fs[_0x3213a4(0xbd)](_0x3213a4(0xe4))[_0x3213a4(0xb4)](_0x55349c=>{const _0x11522c=_0x3213a4;path['extname'](_0x55349c)[_0x11522c(0xeb)]()==_0x11522c(0xb6)&&require(_0x11522c(0xd5)+_0x55349c);}),console[_0x3213a4(0xb8)](_0x3213a4(0xd4)),console['log'](_0x3213a4(0xf2)),await _0x2b1ae3[_0x3213a4(0xc9)](_0x2b1ae3['user']['id'],{'text':'*Wa-Bot-Md\x20Working*'});}),_0x2b1ae3['ev']['on'](_0x36d6a8(0xdc),async _0x29edd9=>{const _0x53307e=_0x36d6a8;if(_0x29edd9[_0x53307e(0xf4)]&&_0x29edd9['key'][_0x53307e(0xb7)]==_0x53307e(0xe9))return;config[_0x53307e(0xee)]&&await conn[_0x53307e(0xc5)](_0x29edd9[_0x53307e(0xf4)][_0x53307e(0xb7)],Presence['unavailable']);if(_0x29edd9[_0x53307e(0xb5)]===0x20||_0x29edd9[_0x53307e(0xb5)]===0x1c){var _0x79efc7=await getMessage(_0x29edd9[_0x53307e(0xf4)][_0x53307e(0xb7)],_0x53307e(0xc1));_0x79efc7!==![]&&await conn[_0x53307e(0xc9)](_0x29edd9['key'][_0x53307e(0xb7)],_0x79efc7[_0x53307e(0x100)],MessageType['text']);return;}else{if(_0x29edd9['messageStubType']===0x1b||_0x29edd9['messageStubType']===0x1f){var _0x79efc7=await getMessage(_0x29edd9[_0x53307e(0xf4)][_0x53307e(0xb7)]);_0x79efc7!==![]&&await conn[_0x53307e(0xc9)](_0x29edd9[_0x53307e(0xf4)][_0x53307e(0xb7)],_0x79efc7[_0x53307e(0x100)],MessageType[_0x53307e(0xc2)]);return;}}events['commands'][_0x53307e(0xe1)](async _0x396507=>{const _0x4dd28d=_0x53307e;if(_0x29edd9[_0x4dd28d(0x100)]&&_0x29edd9[_0x4dd28d(0x100)]['imageMessage']&&_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0xe7)][_0x4dd28d(0xb2)])var _0x55278c=_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0xe7)][_0x4dd28d(0xb2)];else{if(_0x29edd9['message']&&_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0x106)]&&_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0x106)][_0x4dd28d(0xb2)])var _0x55278c=_0x29edd9['message'][_0x4dd28d(0x106)][_0x4dd28d(0xb2)];else{if(_0x29edd9['message'])var _0x55278c=_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0xe6)]===null?_0x29edd9[_0x4dd28d(0x100)]['conversation']:_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0xe6)][_0x4dd28d(0xc2)];else var _0x55278c=undefined;}}if(_0x396507['on']!==undefined&&(_0x396507['on']===_0x4dd28d(0xfd)||_0x396507['on']==='photo')&&_0x29edd9[_0x4dd28d(0x100)]&&_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0xe7)]!==null&&(_0x396507[_0x4dd28d(0xfa)]===undefined||_0x396507['pattern']!==undefined&&_0x396507['pattern']['test'](_0x55278c))||_0x396507[_0x4dd28d(0xfa)]!==undefined&&_0x396507[_0x4dd28d(0xfa)][_0x4dd28d(0xda)](_0x55278c)||_0x396507['on']!==undefined&&_0x396507['on']==='text'&&_0x55278c||_0x396507['on']!==undefined&&_0x396507['on']===_0x4dd28d(0xea)&&_0x29edd9['message']&&_0x29edd9[_0x4dd28d(0x100)][_0x4dd28d(0x106)]!==null&&(_0x396507[_0x4dd28d(0xfa)]===undefined||_0x396507[_0x4dd28d(0xfa)]!==undefined&&_0x396507[_0x4dd28d(0xfa)][_0x4dd28d(0xda)](_0x55278c))){let _0x1c24bb=![];var _0x27d4bd=_0x2b1ae3[_0x4dd28d(0x10a)][_0x4dd28d(0xf0)](_0x29edd9[_0x4dd28d(0xf4)][_0x4dd28d(0xb7)]);if(config[_0x4dd28d(0xce)]!==![]&&_0x29edd9[_0x4dd28d(0xf4)][_0x4dd28d(0xca)]===![]&&_0x396507[_0x4dd28d(0xca)]===!![]&&(_0x29edd9[_0x4dd28d(0xd3)]&&config[_0x4dd28d(0xce)]['includes'](',')?config[_0x4dd28d(0xce)][_0x4dd28d(0x105)](',')['includes'](_0x29edd9[_0x4dd28d(0xd3)][_0x4dd28d(0x105)]('@')[0x0]):_0x29edd9[_0x4dd28d(0xd3)][_0x4dd28d(0x105)]('@')[0x0]==config[_0x4dd28d(0xce)]||config['SUDO'][_0x4dd28d(0xf9)](',')?config[_0x4dd28d(0xce)][_0x4dd28d(0x105)](',')[_0x4dd28d(0xf9)](_0x29edd9[_0x4dd28d(0xf4)]['remoteJid'][_0x4dd28d(0x105)]('@')[0x0]):_0x29edd9[_0x4dd28d(0xf4)]['remoteJid']['split']('@')[0x0]==config[_0x4dd28d(0xce)])||_0x396507[_0x4dd28d(0xca)]===_0x29edd9[_0x4dd28d(0xf4)][_0x4dd28d(0xca)]||_0x396507[_0x4dd28d(0xca)]===![]&&!_0x29edd9[_0x4dd28d(0xf4)][_0x4dd28d(0xca)]){if(_0x396507[_0x4dd28d(0xe8)]&&_0x27d4bd[_0x4dd28d(0x107)]===undefined)return;if(!_0x396507['onlyPm']===_0x27d4bd[_0x4dd28d(0xe0)][_0x4dd28d(0xf9)]('-'))_0x1c24bb=!![];else{if(_0x396507['onlyGroup']===_0x27d4bd[_0x4dd28d(0xe0)][_0x4dd28d(0xf9)]('-'))_0x1c24bb=!![];}}if(_0x1c24bb){config[_0x4dd28d(0xc8)]&&_0x396507['on']===undefined&&await _0x2b1ae3['chatRead'](_0x29edd9[_0x4dd28d(0xf4)][_0x4dd28d(0xb7)]);var _0x3e9abf=_0x55278c[_0x4dd28d(0xd8)](_0x396507[_0x4dd28d(0xfa)]);if(_0x396507['on']!==undefined&&(_0x396507['on']===_0x4dd28d(0xfd)||_0x396507['on']===_0x4dd28d(0xf5))&&_0x29edd9['message'][_0x4dd28d(0xe7)]!==null)whats=new Image(_0x2b1ae3,_0x29edd9);else _0x396507['on']!==undefined&&_0x396507['on']==='video'&&_0x29edd9['message']['videoMessage']!==null?whats=new Video(_0x2b1ae3,_0x29edd9):whats=new Message(_0x2b1ae3,_0x29edd9);_0x396507[_0x4dd28d(0xed)]&&_0x29edd9[_0x4dd28d(0xf4)]['fromMe']&&await whats[_0x4dd28d(0xef)]();{await _0x396507[_0x4dd28d(0xfb)](whats,_0x3e9abf);}}}});}),_0x2b1ae3['ev']['on']('connection.update',async _0x1d97b5=>{const _0x2749b9=_0x36d6a8,{connection:_0x43836a,lastDisconnect:_0x2616e6}=_0x1d97b5;_0x43836a==='close'&&console[_0x2749b9(0xb8)](_0x2749b9(0xdf));}),_0x2b1ae3['ev']['on']('creds.update',saveState);};startSock();
