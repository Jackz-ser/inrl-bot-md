/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/

const _0x3f78f3=_0x13f3;function _0x485a(){const _0xb28ab=['close','onlyPinned','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','findAll','Disconnected:\x20','sequelize','chats','unavailable','conversation','map','5RnoPye','got','getTime','dataValues','default','./plugins/','✅\x20Plugins\x20Installed...','prototype','HANDLERS','get','level','Bot\x20connected..','test','status@broadcast','5384036GQflsL','271757LuxCbM','./plugins','message','4305876CWWunT','152cORgUe','3065290gMDRFm','splice','text','pino','replace','deleteCommand','photo','store','⬇️\x20Installing\x20external\x20plugins...','sendMessage','SUDO','Bot\x20working...','imageMessage','statusCode','*Wa-Bot-Md\x20Working*','axios','./lib/','creds.update','body','split','log','now','connectionClosed','.js','length','key','onlyGroup','indexOf','readdirSync','match','remoteJid','extname','21QNMwdM','path','video','restartRequired','error','./lib/inrl','SEND_READ','56538uaMEiB','onlyPm','toLowerCase','existsSync','63652afTSKb','connectionLost','./config','name','user','logout','undefined','videoMessage','@hapi/boom','1466588udXBmH','commands','includes','remove','extendedTextMessage','participant','@adiwajshing/baileys','fromMe','delete','pattern','caption','silent','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','child','loggedOut','format','goodbye','PluginDB','messageStubType','image','./lib/sql/','Connection\x20timed\x20out,\x20Reconnecting...','⬇️\x20\x20Installing\x20plugins...'];_0x485a=function(){return _0xb28ab;};return _0x485a();}(function(_0x237c8c,_0x19cd05){const _0x13c6fc=_0x13f3,_0x1a009a=_0x237c8c();while(!![]){try{const _0x3c9c54=-parseInt(_0x13c6fc(0xd8))/0x1+parseInt(_0x13c6fc(0x108))/0x2*(parseInt(_0x13c6fc(0xfd))/0x3)+-parseInt(_0x13c6fc(0x111))/0x4*(-parseInt(_0x13c6fc(0xc9))/0x5)+parseInt(_0x13c6fc(0xdb))/0x6+-parseInt(_0x13c6fc(0xd7))/0x7+-parseInt(_0x13c6fc(0xdc))/0x8*(parseInt(_0x13c6fc(0x104))/0x9)+parseInt(_0x13c6fc(0xdd))/0xa;if(_0x3c9c54===_0x19cd05)break;else _0x1a009a['push'](_0x1a009a['shift']());}catch(_0x44c857){_0x1a009a['push'](_0x1a009a['shift']());}}}(_0x485a,0x6eadd));const os=require('os'),fs=require('fs'),path=require(_0x3f78f3(0xfe)),events=require(_0x3f78f3(0x102)),got=require(_0x3f78f3(0xca)),{DataTypes}=require(_0x3f78f3(0xc4)),{Message,Image,Video}=require(_0x3f78f3(0xed)),axios=require(_0x3f78f3(0xec)),{default:makeWASocket,useSingleFileAuthState,DisconnectReason,WAPresence,fetchLatestBaileysVersion,makeInMemoryStore,MessageType,Mimetype}=require(_0x3f78f3(0x117)),{Boom}=require(_0x3f78f3(0x110)),{state,saveState}=useSingleFileAuthState('./session.json'),MAIN_LOGGER=require('@adiwajshing/baileys/lib/Utils/logger')[_0x3f78f3(0xcd)],logger=MAIN_LOGGER[_0x3f78f3(0xb5)]({});logger[_0x3f78f3(0xd3)]='silent';const config=require(_0x3f78f3(0x10a)),pino=require(_0x3f78f3(0xe0)),store=makeInMemoryStore({'logger':pino()[_0x3f78f3(0xb5)]({'level':_0x3f78f3(0xb3),'stream':_0x3f78f3(0xe4)})});prefix=config[_0x3f78f3(0xd1)],fs[_0x3f78f3(0xf9)](_0x3f78f3(0xbc))['forEach'](_0xef2ac4=>{const _0x462be7=_0x3f78f3;path[_0x462be7(0xfc)](_0xef2ac4)[_0x462be7(0x106)]()==_0x462be7(0xf4)&&require('./lib/sql/'+_0xef2ac4);});const plugindb=require('./lib/sql/plugin');String[_0x3f78f3(0xd0)][_0x3f78f3(0xb7)]=function(){const _0x5c4360=_0x3f78f3;var _0x44acc6=0x0,_0x5983d4=arguments;return this[_0x5c4360(0xe1)](/{}/g,function(){const _0x3b1d0e=_0x5c4360;return typeof _0x5983d4[_0x44acc6]!=_0x3b1d0e(0x10e)?_0x5983d4[_0x44acc6++]:'';});};function _0x13f3(_0x12a976,_0x2db3bd){const _0x485a90=_0x485a();return _0x13f3=function(_0x13f3e5,_0x1c2c73){_0x13f3e5=_0x13f3e5-0xb0;let _0x305e9a=_0x485a90[_0x13f3e5];return _0x305e9a;},_0x13f3(_0x12a976,_0x2db3bd);}!Date[_0x3f78f3(0xf2)]&&(Date[_0x3f78f3(0xf2)]=function(){const _0x44046d=_0x3f78f3;return new Date()[_0x44046d(0xcb)]();});Array[_0x3f78f3(0xd0)][_0x3f78f3(0x114)]=function(){const _0x3d4dd2=_0x3f78f3;var _0x343080,_0x40068c=arguments,_0x1bd476=_0x40068c['length'],_0x51e521;while(_0x1bd476&&this[_0x3d4dd2(0xf5)]){_0x343080=_0x40068c[--_0x1bd476];while((_0x51e521=this[_0x3d4dd2(0xf8)](_0x343080))!==-0x1){this[_0x3d4dd2(0xde)](_0x51e521,0x1);}}return this;};const startSock=async()=>{const _0x59fe46=_0x3f78f3;await config['DATABASE']['sync'](),console[_0x59fe46(0xf1)]('Wa-Bot\x20Connecting\x20to\x20whatsapp');const {version:_0x11212c}=await fetchLatestBaileysVersion(),_0x454432=makeWASocket({'logger':logger,'version':_0x11212c,'printQRInTerminal':![],'auth':state});console[_0x59fe46(0xf1)](_0x59fe46(0xd4)),store['bind'](_0x454432['ev']),_0x454432['ev']['on']('connection.update',async _0x382d5e=>{const _0x4873b4=_0x59fe46,{connection:_0x4a2eec,lastDisconnect:_0x2c2226}=_0x382d5e;console[_0x4873b4(0xf1)](_0x4873b4(0xe5));if(_0x4a2eec=='open'){var _0x2e270b=await plugindb[_0x4873b4(0xb9)][_0x4873b4(0xc2)]();_0x2e270b[_0x4873b4(0xc8)](async _0x1872bb=>{const _0x3f17f0=_0x4873b4;if(!fs[_0x3f17f0(0x107)]('./plugins/'+_0x1872bb[_0x3f17f0(0xcc)][_0x3f17f0(0x10b)]+_0x3f17f0(0xf4))){console[_0x3f17f0(0xf1)](_0x1872bb[_0x3f17f0(0xcc)][_0x3f17f0(0x10b)]);var _0x301191=await got(_0x1872bb[_0x3f17f0(0xcc)]['url']);_0x301191[_0x3f17f0(0xea)]==0xc8&&(fs['writeFileSync']('./plugins/'+_0x1872bb[_0x3f17f0(0xcc)]['name']+'.js',_0x301191[_0x3f17f0(0xef)]),require(_0x3f17f0(0xce)+_0x1872bb['dataValues']['name']+_0x3f17f0(0xf4)));}}),console['log'](_0x4873b4(0xbe)),fs[_0x4873b4(0xf9)](_0x4873b4(0xd9))['forEach'](_0x3fb6ae=>{const _0x242c26=_0x4873b4;path['extname'](_0x3fb6ae)[_0x242c26(0x106)]()==_0x242c26(0xf4)&&require(_0x242c26(0xce)+_0x3fb6ae);});}console[_0x4873b4(0xf1)](_0x4873b4(0xcf)),console[_0x4873b4(0xf1)](_0x4873b4(0xe8)),await _0x454432[_0x4873b4(0xe6)](_0x454432[_0x4873b4(0x10c)]['id'],{'text':_0x4873b4(0xeb)}),_0x454432['ev']['on']('messages.upsert',async _0xed4a40=>{const _0x52ca25=_0x4873b4;if(_0xed4a40[_0x52ca25(0xf6)]&&_0xed4a40[_0x52ca25(0xf6)][_0x52ca25(0xfb)]==_0x52ca25(0xd6))return;config['NO_ONLINE']&&await _0x454432['updatePresence'](_0xed4a40[_0x52ca25(0xf6)][_0x52ca25(0xfb)],WAPresence[_0x52ca25(0xc6)]);if(_0xed4a40['messageStubType']===0x20||_0xed4a40[_0x52ca25(0xba)]===0x1c){var _0x32f75f=await getMessage(_0xed4a40[_0x52ca25(0xf6)][_0x52ca25(0xfb)],_0x52ca25(0xb8));_0x32f75f!==![]&&await _0x454432['sendMessage'](_0xed4a40[_0x52ca25(0xf6)][_0x52ca25(0xfb)],_0x32f75f['message'],MessageType[_0x52ca25(0xdf)]);return;}else{if(_0xed4a40[_0x52ca25(0xba)]===0x1b||_0xed4a40[_0x52ca25(0xba)]===0x1f){var _0x32f75f=await getMessage(_0xed4a40[_0x52ca25(0xf6)]['remoteJid']);_0x32f75f!==![]&&await _0x454432['sendMessage'](_0xed4a40[_0x52ca25(0xf6)][_0x52ca25(0xfb)],_0x32f75f[_0x52ca25(0xda)],MessageType[_0x52ca25(0xdf)]);return;}}events[_0x52ca25(0x112)]['map'](async _0x441e7e=>{const _0xcada5c=_0x52ca25;if(_0xed4a40['message']&&_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0xe9)]&&_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0xe9)][_0xcada5c(0xb2)])var _0x524272=_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0xe9)][_0xcada5c(0xb2)];else{if(_0xed4a40['message']&&_0xed4a40['message'][_0xcada5c(0x10f)]&&_0xed4a40['message'][_0xcada5c(0x10f)][_0xcada5c(0xb2)])var _0x524272=_0xed4a40['message'][_0xcada5c(0x10f)][_0xcada5c(0xb2)];else{if(_0xed4a40[_0xcada5c(0xda)])var _0x524272=_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0x115)]===null?_0xed4a40['message'][_0xcada5c(0xc7)]:_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0x115)][_0xcada5c(0xdf)];else var _0x524272=undefined;}}if(_0x441e7e['on']!==undefined&&(_0x441e7e['on']==='image'||_0x441e7e['on']===_0xcada5c(0xe3))&&_0xed4a40[_0xcada5c(0xda)]&&_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0xe9)]!==null&&(_0x441e7e['pattern']===undefined||_0x441e7e[_0xcada5c(0xb1)]!==undefined&&_0x441e7e['pattern']['test'](_0x524272))||_0x441e7e['pattern']!==undefined&&_0x441e7e['pattern']['test'](_0x524272)||_0x441e7e['on']!==undefined&&_0x441e7e['on']==='text'&&_0x524272||_0x441e7e['on']!==undefined&&_0x441e7e['on']===_0xcada5c(0xff)&&_0xed4a40['message']&&_0xed4a40[_0xcada5c(0xda)]['videoMessage']!==null&&(_0x441e7e[_0xcada5c(0xb1)]===undefined||_0x441e7e[_0xcada5c(0xb1)]!==undefined&&_0x441e7e[_0xcada5c(0xb1)][_0xcada5c(0xd5)](_0x524272))){let _0x2afb7e=![];var _0x17d7d1=_0x454432[_0xcada5c(0xc5)][_0xcada5c(0xd2)](_0xed4a40[_0xcada5c(0xf6)]['remoteJid']);if(config[_0xcada5c(0xe7)]!==![]&&_0xed4a40[_0xcada5c(0xf6)][_0xcada5c(0x118)]===![]&&_0x441e7e[_0xcada5c(0x118)]===!![]&&(_0xed4a40[_0xcada5c(0x116)]&&config[_0xcada5c(0xe7)]['includes'](',')?config['SUDO'][_0xcada5c(0xf0)](',')[_0xcada5c(0x113)](_0xed4a40[_0xcada5c(0x116)][_0xcada5c(0xf0)]('@')[0x0]):_0xed4a40[_0xcada5c(0x116)]['split']('@')[0x0]==config[_0xcada5c(0xe7)]||config[_0xcada5c(0xe7)]['includes'](',')?config['SUDO'][_0xcada5c(0xf0)](',')[_0xcada5c(0x113)](_0xed4a40[_0xcada5c(0xf6)][_0xcada5c(0xfb)]['split']('@')[0x0]):_0xed4a40['key'][_0xcada5c(0xfb)][_0xcada5c(0xf0)]('@')[0x0]==config['SUDO'])||_0x441e7e[_0xcada5c(0x118)]===_0xed4a40[_0xcada5c(0xf6)]['fromMe']||_0x441e7e[_0xcada5c(0x118)]===![]&&!_0xed4a40['key']['fromMe']){if(_0x441e7e[_0xcada5c(0xc0)]&&_0x17d7d1['pin']===undefined)return;if(!_0x441e7e[_0xcada5c(0x105)]===_0x17d7d1['jid']['includes']('-'))_0x2afb7e=!![];else{if(_0x441e7e[_0xcada5c(0xf7)]===_0x17d7d1['jid'][_0xcada5c(0x113)]('-'))_0x2afb7e=!![];}}if(_0x2afb7e){config[_0xcada5c(0x103)]&&_0x441e7e['on']===undefined&&await _0x454432['chatRead'](_0xed4a40[_0xcada5c(0xf6)][_0xcada5c(0xfb)]);var _0x369a14=_0x524272[_0xcada5c(0xfa)](_0x441e7e['pattern']);if(_0x441e7e['on']!==undefined&&(_0x441e7e['on']===_0xcada5c(0xbb)||_0x441e7e['on']===_0xcada5c(0xe3))&&_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0xe9)]!==null)whats=new Image(_0x454432,_0xed4a40);else _0x441e7e['on']!==undefined&&_0x441e7e['on']===_0xcada5c(0xff)&&_0xed4a40[_0xcada5c(0xda)][_0xcada5c(0x10f)]!==null?whats=new Video(_0x454432,_0xed4a40):whats=new Message(_0x454432,_0xed4a40);_0x441e7e[_0xcada5c(0xe2)]&&_0xed4a40['key'][_0xcada5c(0x118)]&&await whats[_0xcada5c(0xb0)]();}}});});if(_0x4a2eec!==_0x4873b4(0xbf))return;let _0x5e3674=new Boom(_0x2c2226?.[_0x4873b4(0x101)])?.['output']?.['statusCode'];const _0x572d15=DisconnectReason;if(_0x5e3674===_0x572d15['badSession']){console[_0x4873b4(0xf1)]('Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.'),_0x454432[_0x4873b4(0x10d)]();return;}if(_0x5e3674===_0x572d15[_0x4873b4(0xf3)]){console[_0x4873b4(0xf1)]('Connection\x20closed.\x20Reconnecting...'),startSock();return;}if(_0x5e3674===_0x572d15[_0x4873b4(0x109)]){console['log'](_0x4873b4(0xc1)),startSock();return;}if(_0x5e3674===_0x572d15['connectionReplaced']){console[_0x4873b4(0xf1)](_0x4873b4(0xb4)),_0x454432['logout']();return;}if(_0x5e3674===_0x572d15[_0x4873b4(0xb6)]){console[_0x4873b4(0xf1)]('Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.'),_0x454432[_0x4873b4(0x10d)]();return;}if(_0x5e3674===_0x572d15[_0x4873b4(0x100)]){console[_0x4873b4(0xf1)]('Kingdom\x20needed.\x20restarting...'),startSock();return;}if(_0x5e3674===_0x572d15['timedOut']){console[_0x4873b4(0xf1)](_0x4873b4(0xbd)),startSock();return;}_0x454432['end'](_0x4873b4(0xc3)+_0x5e3674+'|'+_0x2c2226[_0x4873b4(0x101)]);}),_0x454432['ev']['on'](_0x59fe46(0xee),saveState);};startSock();
