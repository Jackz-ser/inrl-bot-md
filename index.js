/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x2124ae=_0x42c3;(function(_0x4e5a19,_0x3c3b78){const _0x67721e=_0x42c3,_0x130e1e=_0x4e5a19();while(!![]){try{const _0x2d55ec=-parseInt(_0x67721e(0x19d))/0x1*(parseInt(_0x67721e(0x1e5))/0x2)+-parseInt(_0x67721e(0x1dc))/0x3*(-parseInt(_0x67721e(0x1b0))/0x4)+-parseInt(_0x67721e(0x189))/0x5+parseInt(_0x67721e(0x1b1))/0x6*(parseInt(_0x67721e(0x187))/0x7)+parseInt(_0x67721e(0x1af))/0x8*(parseInt(_0x67721e(0x1e0))/0x9)+parseInt(_0x67721e(0x1b9))/0xa+parseInt(_0x67721e(0x1e7))/0xb*(-parseInt(_0x67721e(0x1c3))/0xc);if(_0x2d55ec===_0x3c3b78)break;else _0x130e1e['push'](_0x130e1e['shift']());}catch(_0x34fcea){_0x130e1e['push'](_0x130e1e['shift']());}}}(_0x1e69,0x3d1ab));const os=require('os'),fs=require('fs'),path=require(_0x2124ae(0x1e1)),events=require(_0x2124ae(0x1cb)),got=require(_0x2124ae(0x196)),git=simpleGit(),{DataTypes}=require(_0x2124ae(0x17f)),{Message,Image,Video}=require('./lib/'),axios=require(_0x2124ae(0x190)),{default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x2124ae(0x192)),{Boom}=require(_0x2124ae(0x1be)),{state,saveState}=useSingleFileAuthState(_0x2124ae(0x1d9)),MAIN_LOGGER=require('@adiwajshing/baileys/lib/Utils/logger')[_0x2124ae(0x1df)],logger=MAIN_LOGGER['child']({});logger[_0x2124ae(0x1c8)]=_0x2124ae(0x1d7);const config=require('./config'),pino=require(_0x2124ae(0x183)),store=makeInMemoryStore({'logger':pino()[_0x2124ae(0x1a2)]({'level':_0x2124ae(0x1d7),'stream':_0x2124ae(0x17c)})});prefix=config[_0x2124ae(0x1bb)],fs[_0x2124ae(0x1ba)](_0x2124ae(0x1ea))['forEach'](_0x3e5db9=>{const _0x5a6703=_0x2124ae;path[_0x5a6703(0x184)](_0x3e5db9)[_0x5a6703(0x1e3)]()=='.js'&&require('./lib/sql/'+_0x3e5db9);});const plugindb=require('./lib/sql/plugin');function _0x42c3(_0x5181a8,_0x5f40f5){const _0x1e69b8=_0x1e69();return _0x42c3=function(_0x42c370,_0x46a16d){_0x42c370=_0x42c370-0x17b;let _0x137c12=_0x1e69b8[_0x42c370];return _0x137c12;},_0x42c3(_0x5181a8,_0x5f40f5);}function _0x1e69(){const _0x5c89c2=['error','4606370HtRiee','readdirSync','HANDLERS','user','⬇️\x20Installing\x20external\x20plugins...','@hapi/boom','url','jid','pattern','name','31116ufRpnY','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','dataValues','delete','text','level','sync','connectionLost','./lib/events','replace','⬇️\x20\x20Installing\x20plugins...','./plugins','splice','creds.update','open','end','length','chats','Connection\x20closed.\x20Reconnecting...','status@broadcast','silent','includes','./session.json','close','extendedTextMessage','139281FQVLnf','image','getTime','default','45027uHsfXA','path','onlyPm','toLowerCase','Wa-Bot\x20Connecting\x20to\x20whatsapp','2liAtiK','Bot\x20connected..','1199DIKXJu','conversation','Bot\x20working...','./lib/sql/','videoMessage','NO_ONLINE','store','message','video','sequelize','remoteJid','map','messageStubType','pino','extname','logout','DATABASE','1804691wwDKHa','bind','1148160xteLsK','SEND_READ','connectionReplaced','unavailable','badSession','messages.upsert','existsSync','axios','connection.update','@adiwajshing/baileys','match','pin','✅\x20Plugins\x20Installed...','got','./plugins/','.js','prototype','format','fromMe','SUDO','42349KVajYO','Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.','onlyPinned','statusCode','key','child','split','participant','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','*Wa-Bot-Md\x20Working*','log','timedOut','Connection\x20timed\x20out,\x20Reconnecting...','test','writeFileSync','onlyGroup','caption','updatePresence','64kBOgDz','4HDefci','6JCiwlQ','restartRequired','forEach','sendMessage','remove','indexOf','imageMessage'];_0x1e69=function(){return _0x5c89c2;};return _0x1e69();}String[_0x2124ae(0x199)][_0x2124ae(0x19a)]=function(){const _0x3a521c=_0x2124ae;var _0x254aa5=0x0,_0x92d6a4=arguments;return this[_0x3a521c(0x1cc)](/{}/g,function(){return typeof _0x92d6a4[_0x254aa5]!='undefined'?_0x92d6a4[_0x254aa5++]:'';});};!Date['now']&&(Date['now']=function(){const _0x4f567f=_0x2124ae;return new Date()[_0x4f567f(0x1de)]();});Array[_0x2124ae(0x199)][_0x2124ae(0x1b5)]=function(){const _0x23be0e=_0x2124ae;var _0x3be2ef,_0x4e0948=arguments,_0x36515b=_0x4e0948[_0x23be0e(0x1d3)],_0x239223;while(_0x36515b&&this['length']){_0x3be2ef=_0x4e0948[--_0x36515b];while((_0x239223=this[_0x23be0e(0x1b6)](_0x3be2ef))!==-0x1){this[_0x23be0e(0x1cf)](_0x239223,0x1);}}return this;};const startSock=async()=>{const _0x54e306=_0x2124ae;await config[_0x54e306(0x186)][_0x54e306(0x1c9)](),console[_0x54e306(0x1a7)](_0x54e306(0x1e4));const {version:_0x4a8137}=await fetchLatestBaileysVersion(),_0x3909e6=makeWASocket({'logger':logger,'version':_0x4a8137,'printQRInTerminal':![],'auth':state});console[_0x54e306(0x1a7)](_0x54e306(0x1e6)),store[_0x54e306(0x188)](_0x3909e6['ev']),_0x3909e6['ev']['on'](_0x54e306(0x191),async _0x10492c=>{const _0x52b065=_0x54e306,{connection:_0x57057b,lastDisconnect:_0x23b1a7}=_0x10492c;console[_0x52b065(0x1a7)](_0x52b065(0x1bd));if(_0x57057b==_0x52b065(0x1d1)){var _0x306095=await plugindb['PluginDB']['findAll']();_0x306095[_0x52b065(0x181)](async _0x5764dd=>{const _0x32770c=_0x52b065;if(!fs[_0x32770c(0x18f)]('./plugins/'+_0x5764dd[_0x32770c(0x1c5)][_0x32770c(0x1c2)]+_0x32770c(0x198))){console['log'](_0x5764dd[_0x32770c(0x1c5)][_0x32770c(0x1c2)]);var _0x5cda48=await got(_0x5764dd['dataValues'][_0x32770c(0x1bf)]);_0x5cda48[_0x32770c(0x1a0)]==0xc8&&(fs[_0x32770c(0x1ab)](_0x32770c(0x197)+_0x5764dd[_0x32770c(0x1c5)]['name']+_0x32770c(0x198),_0x5cda48['body']),require(_0x32770c(0x197)+_0x5764dd[_0x32770c(0x1c5)]['name']+'.js'));}}),console[_0x52b065(0x1a7)](_0x52b065(0x1cd)),fs['readdirSync'](_0x52b065(0x1ce))[_0x52b065(0x1b3)](_0x2186b0=>{const _0x5dd687=_0x52b065;path[_0x5dd687(0x184)](_0x2186b0)[_0x5dd687(0x1e3)]()==_0x5dd687(0x198)&&require('./plugins/'+_0x2186b0);});}console[_0x52b065(0x1a7)](_0x52b065(0x195)),console[_0x52b065(0x1a7)](_0x52b065(0x1e9)),await _0x3909e6[_0x52b065(0x1b4)](_0x3909e6[_0x52b065(0x1bc)]['id'],{'text':_0x52b065(0x1a6)}),_0x3909e6['ev']['on'](_0x52b065(0x18e),async _0x145197=>{const _0x3e628d=_0x52b065;if(_0x145197[_0x3e628d(0x1a1)]&&_0x145197[_0x3e628d(0x1a1)]['remoteJid']==_0x3e628d(0x1d6))return;config[_0x3e628d(0x17b)]&&await _0x3909e6[_0x3e628d(0x1ae)](_0x145197[_0x3e628d(0x1a1)][_0x3e628d(0x180)],Presence[_0x3e628d(0x18c)]);if(_0x145197['messageStubType']===0x20||_0x145197['messageStubType']===0x1c){var _0x1de71f=await getMessage(_0x145197[_0x3e628d(0x1a1)]['remoteJid'],'goodbye');_0x1de71f!==![]&&await _0x3909e6['sendMessage'](_0x145197[_0x3e628d(0x1a1)][_0x3e628d(0x180)],_0x1de71f[_0x3e628d(0x17d)],MessageType[_0x3e628d(0x1c7)]);return;}else{if(_0x145197[_0x3e628d(0x182)]===0x1b||_0x145197[_0x3e628d(0x182)]===0x1f){var _0x1de71f=await getMessage(_0x145197['key']['remoteJid']);_0x1de71f!==![]&&await _0x3909e6[_0x3e628d(0x1b4)](_0x145197[_0x3e628d(0x1a1)][_0x3e628d(0x180)],_0x1de71f[_0x3e628d(0x17d)],MessageType[_0x3e628d(0x1c7)]);return;}}events['commands'][_0x3e628d(0x181)](async _0x48763e=>{const _0x4c18cb=_0x3e628d;if(_0x145197[_0x4c18cb(0x17d)]&&_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1b7)]&&_0x145197['message'][_0x4c18cb(0x1b7)][_0x4c18cb(0x1ad)])var _0x97b9c5=_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1b7)][_0x4c18cb(0x1ad)];else{if(_0x145197['message']&&_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1eb)]&&_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1eb)][_0x4c18cb(0x1ad)])var _0x97b9c5=_0x145197[_0x4c18cb(0x17d)]['videoMessage'][_0x4c18cb(0x1ad)];else{if(_0x145197['message'])var _0x97b9c5=_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1db)]===null?_0x145197['message'][_0x4c18cb(0x1e8)]:_0x145197['message'][_0x4c18cb(0x1db)][_0x4c18cb(0x1c7)];else var _0x97b9c5=undefined;}}if(_0x48763e['on']!==undefined&&(_0x48763e['on']===_0x4c18cb(0x1dd)||_0x48763e['on']==='photo')&&_0x145197['message']&&_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1b7)]!==null&&(_0x48763e[_0x4c18cb(0x1c1)]===undefined||_0x48763e['pattern']!==undefined&&_0x48763e[_0x4c18cb(0x1c1)]['test'](_0x97b9c5))||_0x48763e[_0x4c18cb(0x1c1)]!==undefined&&_0x48763e[_0x4c18cb(0x1c1)][_0x4c18cb(0x1aa)](_0x97b9c5)||_0x48763e['on']!==undefined&&_0x48763e['on']===_0x4c18cb(0x1c7)&&_0x97b9c5||_0x48763e['on']!==undefined&&_0x48763e['on']===_0x4c18cb(0x17e)&&_0x145197[_0x4c18cb(0x17d)]&&_0x145197['message'][_0x4c18cb(0x1eb)]!==null&&(_0x48763e['pattern']===undefined||_0x48763e[_0x4c18cb(0x1c1)]!==undefined&&_0x48763e[_0x4c18cb(0x1c1)][_0x4c18cb(0x1aa)](_0x97b9c5))){let _0x17656c=![];var _0x539d30=_0x3909e6[_0x4c18cb(0x1d4)]['get'](_0x145197['key'][_0x4c18cb(0x180)]);if(config[_0x4c18cb(0x19c)]!==![]&&_0x145197['key'][_0x4c18cb(0x19b)]===![]&&_0x48763e[_0x4c18cb(0x19b)]===!![]&&(_0x145197[_0x4c18cb(0x1a4)]&&config['SUDO'][_0x4c18cb(0x1d8)](',')?config[_0x4c18cb(0x19c)][_0x4c18cb(0x1a3)](',')[_0x4c18cb(0x1d8)](_0x145197[_0x4c18cb(0x1a4)][_0x4c18cb(0x1a3)]('@')[0x0]):_0x145197[_0x4c18cb(0x1a4)][_0x4c18cb(0x1a3)]('@')[0x0]==config[_0x4c18cb(0x19c)]||config[_0x4c18cb(0x19c)][_0x4c18cb(0x1d8)](',')?config[_0x4c18cb(0x19c)][_0x4c18cb(0x1a3)](',')['includes'](_0x145197[_0x4c18cb(0x1a1)][_0x4c18cb(0x180)][_0x4c18cb(0x1a3)]('@')[0x0]):_0x145197[_0x4c18cb(0x1a1)][_0x4c18cb(0x180)][_0x4c18cb(0x1a3)]('@')[0x0]==config[_0x4c18cb(0x19c)])||_0x48763e['fromMe']===_0x145197[_0x4c18cb(0x1a1)][_0x4c18cb(0x19b)]||_0x48763e[_0x4c18cb(0x19b)]===![]&&!_0x145197[_0x4c18cb(0x1a1)]['fromMe']){if(_0x48763e[_0x4c18cb(0x19f)]&&_0x539d30[_0x4c18cb(0x194)]===undefined)return;if(!_0x48763e[_0x4c18cb(0x1e2)]===_0x539d30[_0x4c18cb(0x1c0)][_0x4c18cb(0x1d8)]('-'))_0x17656c=!![];else{if(_0x48763e[_0x4c18cb(0x1ac)]===_0x539d30[_0x4c18cb(0x1c0)]['includes']('-'))_0x17656c=!![];}}if(_0x17656c){config[_0x4c18cb(0x18a)]&&_0x48763e['on']===undefined&&await _0x3909e6['chatRead'](_0x145197[_0x4c18cb(0x1a1)][_0x4c18cb(0x180)]);var _0x3a541d=_0x97b9c5[_0x4c18cb(0x193)](_0x48763e[_0x4c18cb(0x1c1)]);if(_0x48763e['on']!==undefined&&(_0x48763e['on']===_0x4c18cb(0x1dd)||_0x48763e['on']==='photo')&&_0x145197['message'][_0x4c18cb(0x1b7)]!==null)whats=new Image(_0x3909e6,_0x145197);else _0x48763e['on']!==undefined&&_0x48763e['on']===_0x4c18cb(0x17e)&&_0x145197[_0x4c18cb(0x17d)][_0x4c18cb(0x1eb)]!==null?whats=new Video(_0x3909e6,_0x145197):whats=new Message(_0x3909e6,_0x145197);_0x48763e['deleteCommand']&&_0x145197[_0x4c18cb(0x1a1)][_0x4c18cb(0x19b)]&&await whats[_0x4c18cb(0x1c6)]();}}});});if(_0x57057b!==_0x52b065(0x1da))return;let _0x3ad311=new Boom(_0x23b1a7?.[_0x52b065(0x1b8)])?.['output']?.[_0x52b065(0x1a0)];const _0x10af5e=DisconnectReason;if(_0x3ad311===_0x10af5e[_0x52b065(0x18d)]){console[_0x52b065(0x1a7)](_0x52b065(0x1a5)),_0x3909e6[_0x52b065(0x185)]();return;}if(_0x3ad311===_0x10af5e['connectionClosed']){console[_0x52b065(0x1a7)](_0x52b065(0x1d5)),startSock();return;}if(_0x3ad311===_0x10af5e[_0x52b065(0x1ca)]){console['log']('Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...'),startSock();return;}if(_0x3ad311===_0x10af5e[_0x52b065(0x18b)]){console[_0x52b065(0x1a7)](_0x52b065(0x1c4)),_0x3909e6[_0x52b065(0x185)]();return;}if(_0x3ad311===_0x10af5e['loggedOut']){console[_0x52b065(0x1a7)](_0x52b065(0x19e)),_0x3909e6[_0x52b065(0x185)]();return;}if(_0x3ad311===_0x10af5e[_0x52b065(0x1b2)]){console[_0x52b065(0x1a7)]('Kingdom\x20needed.\x20restarting...'),startSock();return;}if(_0x3ad311===_0x10af5e[_0x52b065(0x1a8)]){console[_0x52b065(0x1a7)](_0x52b065(0x1a9)),startSock();return;}_0x3909e6[_0x52b065(0x1d2)]('Disconnected:\x20'+_0x3ad311+'|'+_0x23b1a7['error']);}),_0x3909e6['ev']['on'](_0x54e306(0x1d0),saveState);};startSock();
