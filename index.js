/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x47269a=_0x35f4;(function(_0x33873d,_0x5481cc){const _0x7a8392=_0x35f4,_0x23c587=_0x33873d();while(!![]){try{const _0x351c2d=parseInt(_0x7a8392(0x17f))/0x1*(parseInt(_0x7a8392(0x183))/0x2)+-parseInt(_0x7a8392(0x182))/0x3+parseInt(_0x7a8392(0x12f))/0x4+parseInt(_0x7a8392(0x146))/0x5*(parseInt(_0x7a8392(0x185))/0x6)+-parseInt(_0x7a8392(0x17d))/0x7*(-parseInt(_0x7a8392(0x190))/0x8)+-parseInt(_0x7a8392(0x134))/0x9+-parseInt(_0x7a8392(0x18b))/0xa*(-parseInt(_0x7a8392(0x178))/0xb);if(_0x351c2d===_0x5481cc)break;else _0x23c587['push'](_0x23c587['shift']());}catch(_0x3028ce){_0x23c587['push'](_0x23c587['shift']());}}}(_0x563a,0xb923e));const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require('@adiwajshing/baileys'),{Boom}=require('@hapi/boom'),{state,saveState}=useSingleFileAuthState(_0x47269a(0x18d)),MAIN_LOGGER=require(_0x47269a(0x18a))[_0x47269a(0x163)],logger=MAIN_LOGGER[_0x47269a(0x127)]({});logger[_0x47269a(0x171)]=_0x47269a(0x140);const config=require(_0x47269a(0x133)),pino=require('pino'),store=makeInMemoryStore({'logger':pino()[_0x47269a(0x127)]({'level':_0x47269a(0x140),'stream':_0x47269a(0x17a)})}),fs=require('fs'),path=require('path'),events=require(_0x47269a(0x149)),{Message,Image,Video}=require('./lib/'),{DataTypes}=require(_0x47269a(0x12c)),{GreetingsDB,getMessage}=require(_0x47269a(0x128)),got=require(_0x47269a(0x168)),prefix=config[_0x47269a(0x179)];function _0x35f4(_0x3a4d8c,_0x421e8d){const _0x563aaa=_0x563a();return _0x35f4=function(_0x35f4d8,_0x12a293){_0x35f4d8=_0x35f4d8-0x124;let _0x1902b5=_0x563aaa[_0x35f4d8];return _0x1902b5;},_0x35f4(_0x3a4d8c,_0x421e8d);}fs[_0x47269a(0x175)](_0x47269a(0x187))[_0x47269a(0x12e)](_0x32f60c=>{const _0x3025d8=_0x47269a;path['extname'](_0x32f60c)[_0x3025d8(0x14c)]()==_0x3025d8(0x147)&&require(_0x3025d8(0x187)+_0x32f60c);});const plugindb=require(_0x47269a(0x165));String[_0x47269a(0x145)]['format']=function(){const _0x522548=_0x47269a;var _0x2f8a87=0x0,_0x5c5718=arguments;return this[_0x522548(0x14f)](/{}/g,function(){const _0x3e4e5e=_0x522548;return typeof _0x5c5718[_0x2f8a87]!=_0x3e4e5e(0x16b)?_0x5c5718[_0x2f8a87++]:'';});};!Date['now']&&(Date['now']=function(){const _0x237442=_0x47269a;return new Date()[_0x237442(0x129)]();});function _0x563a(){const _0x1e85e9=['.js','messageStubType','./lib/inrl','caption','extendedTextMessage','toLowerCase','sendMessage','⬇️\x20Installing\x20external\x20plugins...','replace','delete','body','creds.update','name','message','videoMessage','text','imageMessage','jid','user','onlyPinned','logout','Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.','messages.upsert','photo','pin','badSession','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','log','default','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','./lib/sql/plugin','map','Connection\x20timed\x20out,\x20Reconnecting...','got','split','open','undefined','Connection\x20closed.\x20Reconnecting...','conversation','DATABASE','length','remoteJid','level','end','connectionLost','output','readdirSync','Connection\x20Status:\x20','error','11zgUbkY','PREFIX','store','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','updatePresence','6000799ulWsbH','key','11cLHIEw','includes','video','1056012yBodEv','10934GxKPSE','commands','986460gxujVT','onlyGroup','./lib/sql/','unavailable','writeFileSync','@adiwajshing/baileys/lib/Utils/logger','13672030sWGbDy','NO_ONLINE','./session.json','match','loggedOut','8fgmWBZ','✅\x20Plugins\x20installed!','pattern','./plugins/','connection.update','*Wa-Bot-Md\x20Working*','existsSync','dataValues','child','./lib/sql/greetings','getTime','test','extname','sequelize','url','forEach','362252gVzcuq','image','splice','SUDO','./config','12863088jWUkDk','statusCode','SEND_READ','fromMe','restartRequired','chatRead','participant','close','Kingdom\x20needed.\x20restarting...','Disconnected:\x20','timedOut','indexOf','silent','onlyPm','Bot\x20working...','remove','get','prototype','5oJVjND'];_0x563a=function(){return _0x1e85e9;};return _0x563a();}Array[_0x47269a(0x145)][_0x47269a(0x143)]=function(){const _0x11e167=_0x47269a;var _0x2791d0,_0x5a1900=arguments,_0x3d5588=_0x5a1900['length'],_0x332511;while(_0x3d5588&&this[_0x11e167(0x16f)]){_0x2791d0=_0x5a1900[--_0x3d5588];while((_0x332511=this[_0x11e167(0x13f)](_0x2791d0))!==-0x1){this[_0x11e167(0x131)](_0x332511,0x1);}}return this;};const startSock=async()=>{const _0x271cc6=_0x47269a;await config[_0x271cc6(0x16e)]['sync'](),console['log']('DB\x20syncing'),console[_0x271cc6(0x162)]('Wa-Bot\x20Connecting\x20to\x20whatsapp');const {version:_0x42df7e}=await fetchLatestBaileysVersion(),_0x1a3e1a=makeWASocket({'logger':logger,'version':_0x42df7e,'printQRInTerminal':![],'auth':state});console[_0x271cc6(0x162)]('Bot\x20connected.✅️\x20To\x20Whatsapp...'),store['bind'](_0x1a3e1a['ev']),_0x1a3e1a['ev']['on'](_0x271cc6(0x194),async _0x1f9391=>{const _0x13e229=_0x271cc6,{connection:_0xb55c80,lastDisconnect:_0x963b58}=_0x1f9391;_0xb55c80&&console['log'](_0x13e229(0x176),_0xb55c80);if(_0xb55c80==_0x13e229(0x16a)){console[_0x13e229(0x162)](_0x13e229(0x14e));var _0x31f8a2=await plugindb['PluginDB']['findAll']();_0x31f8a2[_0x13e229(0x166)](async _0x3b37fa=>{const _0x214414=_0x13e229;if(!fs[_0x214414(0x125)](_0x214414(0x193)+_0x3b37fa['dataValues'][_0x214414(0x153)]+_0x214414(0x147))){console[_0x214414(0x162)](_0x3b37fa['dataValues'][_0x214414(0x153)]);var _0x47f51c=await got(_0x3b37fa['dataValues'][_0x214414(0x12d)]);_0x47f51c[_0x214414(0x135)]==0xc8&&(fs[_0x214414(0x189)](_0x214414(0x193)+_0x3b37fa['dataValues'][_0x214414(0x153)]+'.js',_0x47f51c[_0x214414(0x151)]),require(_0x214414(0x193)+_0x3b37fa[_0x214414(0x126)][_0x214414(0x153)]+'.js'));}}),fs['readdirSync']('./plugins')[_0x13e229(0x12e)](_0x3f5148=>{const _0x3ac57e=_0x13e229;path[_0x3ac57e(0x12b)](_0x3f5148)['toLowerCase']()==_0x3ac57e(0x147)&&require(_0x3ac57e(0x193)+_0x3f5148);}),console[_0x13e229(0x162)](_0x13e229(0x191)),console['log'](_0x13e229(0x142)),await _0x1a3e1a['sendMessage'](_0x1a3e1a[_0x13e229(0x159)]['id'],{'text':_0x13e229(0x124)});}}),_0x1a3e1a['ev']['on'](_0x271cc6(0x15d),async({messages:_0x163552})=>{const _0x26c0cd=_0x271cc6;config[_0x26c0cd(0x18c)]&&await _0x1a3e1a[_0x26c0cd(0x17c)](_0x163552['key'][_0x26c0cd(0x170)],Presence[_0x26c0cd(0x188)]);if(_0x163552[_0x26c0cd(0x148)]===0x20||_0x163552['messageStubType']===0x1c){var _0x236bf9=await getMessage(_0x163552[_0x26c0cd(0x17e)]['remoteJid'],'goodbye');_0x236bf9!==![]&&await _0x1a3e1a[_0x26c0cd(0x14d)](_0x163552[_0x26c0cd(0x17e)][_0x26c0cd(0x170)],_0x236bf9[_0x26c0cd(0x154)],MessageType['text']);return;}else{if(_0x163552[_0x26c0cd(0x148)]===0x1b||_0x163552[_0x26c0cd(0x148)]===0x1f){var _0x236bf9=await getMessage(_0x163552[_0x26c0cd(0x17e)][_0x26c0cd(0x170)]);_0x236bf9!==![]&&await _0x1a3e1a[_0x26c0cd(0x14d)](_0x163552[_0x26c0cd(0x17e)][_0x26c0cd(0x170)],_0x236bf9[_0x26c0cd(0x154)],MessageType[_0x26c0cd(0x156)]);return;}}events[_0x26c0cd(0x184)][_0x26c0cd(0x166)](async _0x1b6042=>{const _0x544f4b=_0x26c0cd;if(msg['message']&&msg[_0x544f4b(0x154)][_0x544f4b(0x157)]&&msg[_0x544f4b(0x154)][_0x544f4b(0x157)]['caption'])var _0x308253=msg['message'][_0x544f4b(0x157)][_0x544f4b(0x14a)];else{if(msg['message']&&msg[_0x544f4b(0x154)]['videoMessage']&&msg[_0x544f4b(0x154)][_0x544f4b(0x155)][_0x544f4b(0x14a)])var _0x308253=msg[_0x544f4b(0x154)]['videoMessage'][_0x544f4b(0x14a)];else{if(msg['message'])var _0x308253=msg[_0x544f4b(0x154)]['extendedTextMessage']===null?msg['message'][_0x544f4b(0x16d)]:msg[_0x544f4b(0x154)][_0x544f4b(0x14b)][_0x544f4b(0x156)];else var _0x308253=undefined;}}if(_0x1b6042['on']!==undefined&&(_0x1b6042['on']===_0x544f4b(0x130)||_0x1b6042['on']===_0x544f4b(0x15e))&&msg[_0x544f4b(0x154)]&&msg[_0x544f4b(0x154)][_0x544f4b(0x157)]!==null&&(_0x1b6042['pattern']===undefined||_0x1b6042[_0x544f4b(0x192)]!==undefined&&_0x1b6042[_0x544f4b(0x192)][_0x544f4b(0x12a)](_0x308253))||_0x1b6042[_0x544f4b(0x192)]!==undefined&&_0x1b6042[_0x544f4b(0x192)][_0x544f4b(0x12a)](_0x308253)||_0x1b6042['on']!==undefined&&_0x1b6042['on']===_0x544f4b(0x156)&&_0x308253||_0x1b6042['on']!==undefined&&_0x1b6042['on']==='video'&&msg[_0x544f4b(0x154)]&&msg[_0x544f4b(0x154)][_0x544f4b(0x155)]!==null&&(_0x1b6042['pattern']===undefined||_0x1b6042[_0x544f4b(0x192)]!==undefined&&_0x1b6042[_0x544f4b(0x192)][_0x544f4b(0x12a)](_0x308253))){let _0xfc1fd1=![];var _0x1e031f=_0x1a3e1a['chats'][_0x544f4b(0x144)](msg[_0x544f4b(0x17e)][_0x544f4b(0x170)]);if(config[_0x544f4b(0x132)]!==![]&&msg[_0x544f4b(0x17e)][_0x544f4b(0x137)]===![]&&_0x1b6042[_0x544f4b(0x137)]===!![]&&(msg[_0x544f4b(0x13a)]&&config[_0x544f4b(0x132)][_0x544f4b(0x180)](',')?config[_0x544f4b(0x132)][_0x544f4b(0x169)](',')[_0x544f4b(0x180)](msg[_0x544f4b(0x13a)]['split']('@')[0x0]):msg[_0x544f4b(0x13a)][_0x544f4b(0x169)]('@')[0x0]==config[_0x544f4b(0x132)]||config[_0x544f4b(0x132)][_0x544f4b(0x180)](',')?config['SUDO'][_0x544f4b(0x169)](',')[_0x544f4b(0x180)](msg['key'][_0x544f4b(0x170)][_0x544f4b(0x169)]('@')[0x0]):msg[_0x544f4b(0x17e)][_0x544f4b(0x170)][_0x544f4b(0x169)]('@')[0x0]==config[_0x544f4b(0x132)])||_0x1b6042[_0x544f4b(0x137)]===msg['key']['fromMe']||_0x1b6042[_0x544f4b(0x137)]===![]&&!msg['key'][_0x544f4b(0x137)]){if(_0x1b6042[_0x544f4b(0x15a)]&&_0x1e031f[_0x544f4b(0x15f)]===undefined)return;if(!_0x1b6042[_0x544f4b(0x141)]===_0x1e031f[_0x544f4b(0x158)][_0x544f4b(0x180)]('-'))_0xfc1fd1=!![];else{if(_0x1b6042[_0x544f4b(0x186)]===_0x1e031f[_0x544f4b(0x158)][_0x544f4b(0x180)]('-'))_0xfc1fd1=!![];}}if(_0xfc1fd1){config[_0x544f4b(0x136)]&&_0x1b6042['on']===undefined&&await _0x1a3e1a[_0x544f4b(0x139)](msg[_0x544f4b(0x17e)]['remoteJid']);var _0x12ce68=_0x308253[_0x544f4b(0x18e)](_0x1b6042[_0x544f4b(0x192)]);if(_0x1b6042['on']!==undefined&&(_0x1b6042['on']==='image'||_0x1b6042['on']===_0x544f4b(0x15e))&&msg['message'][_0x544f4b(0x157)]!==null)whats=new Image(_0x1a3e1a,msg);else _0x1b6042['on']!==undefined&&_0x1b6042['on']===_0x544f4b(0x181)&&msg[_0x544f4b(0x154)][_0x544f4b(0x155)]!==null?whats=new Video(_0x1a3e1a,msg):whats=new Message(_0x1a3e1a,msg);_0x1b6042['deleteCommand']&&msg[_0x544f4b(0x17e)][_0x544f4b(0x137)]&&await whats[_0x544f4b(0x150)]();}}});});if(connection!==_0x271cc6(0x13b))return;let _0x258627=new Boom(lastDisconnect?.['error'])?.[_0x271cc6(0x174)]?.[_0x271cc6(0x135)];const _0x8ef5c2=DisconnectReason;if(_0x258627===_0x8ef5c2[_0x271cc6(0x160)]){console[_0x271cc6(0x162)](_0x271cc6(0x164)),_0x1a3e1a[_0x271cc6(0x15b)]();return;}if(_0x258627===_0x8ef5c2['connectionClosed']){console[_0x271cc6(0x162)](_0x271cc6(0x16c)),startSock();return;}if(_0x258627===_0x8ef5c2[_0x271cc6(0x173)]){console[_0x271cc6(0x162)](_0x271cc6(0x161)),startSock();return;}if(_0x258627===_0x8ef5c2['connectionReplaced']){console['log'](_0x271cc6(0x17b)),_0x1a3e1a[_0x271cc6(0x15b)]();return;}if(_0x258627===_0x8ef5c2[_0x271cc6(0x18f)]){console['log'](_0x271cc6(0x15c)),_0x1a3e1a['logout']();return;}if(_0x258627===_0x8ef5c2[_0x271cc6(0x138)]){console[_0x271cc6(0x162)](_0x271cc6(0x13c)),startSock();return;}if(_0x258627===_0x8ef5c2[_0x271cc6(0x13e)]){console[_0x271cc6(0x162)](_0x271cc6(0x167)),startSock();return;}_0x1a3e1a[_0x271cc6(0x172)](_0x271cc6(0x13d)+_0x258627+'|'+lastDisconnect[_0x271cc6(0x177)]),_0x1a3e1a['ev']['on'](_0x271cc6(0x152),saveState);};startSock();
