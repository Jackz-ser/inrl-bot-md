/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x1c3468=_0x5ad3;(function(_0x4d5d77,_0xf630e6){const _0xd03268=_0x5ad3,_0x405519=_0x4d5d77();while(!![]){try{const _0x19b151=-parseInt(_0xd03268(0x1a0))/0x1*(-parseInt(_0xd03268(0x14e))/0x2)+-parseInt(_0xd03268(0x1ae))/0x3+-parseInt(_0xd03268(0x14d))/0x4*(parseInt(_0xd03268(0x18a))/0x5)+-parseInt(_0xd03268(0x16c))/0x6*(parseInt(_0xd03268(0x164))/0x7)+-parseInt(_0xd03268(0x148))/0x8*(parseInt(_0xd03268(0x161))/0x9)+parseInt(_0xd03268(0x198))/0xa*(parseInt(_0xd03268(0x197))/0xb)+parseInt(_0xd03268(0x16d))/0xc;if(_0x19b151===_0xf630e6)break;else _0x405519['push'](_0x405519['shift']());}catch(_0x4c4a4b){_0x405519['push'](_0x405519['shift']());}}}(_0x4282,0x64515));const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x1c3468(0x183)),{Boom}=require(_0x1c3468(0x199)),{state,saveState}=useSingleFileAuthState(_0x1c3468(0x15c)),MAIN_LOGGER=require('@adiwajshing/baileys/lib/Utils/logger')[_0x1c3468(0x174)],logger=MAIN_LOGGER[_0x1c3468(0x1a1)]({});logger['level']=_0x1c3468(0x155);const config=require(_0x1c3468(0x170)),pino=require(_0x1c3468(0x180)),store=makeInMemoryStore({'logger':pino()[_0x1c3468(0x1a1)]({'level':'silent','stream':_0x1c3468(0x16b)})}),fs=require('fs'),path=require(_0x1c3468(0x172)),events=require('./lib/inrl'),chalk=require('chalk'),{Message,StringSession,Image,Video}=require('./lib/'),{DataTypes}=require('sequelize'),{GreetingsDB,getMessage}=require(_0x1c3468(0x1a6)),got=require('got'),prefix=config[_0x1c3468(0x17b)];fs[_0x1c3468(0x17e)](_0x1c3468(0x14c))[_0x1c3468(0x17c)](_0x32ec74=>{const _0x19db9b=_0x1c3468;path[_0x19db9b(0x181)](_0x32ec74)[_0x19db9b(0x14f)]()==_0x19db9b(0x190)&&require(_0x19db9b(0x14c)+_0x32ec74);});function _0x5ad3(_0x26a0e8,_0x361569){const _0x42823a=_0x4282();return _0x5ad3=function(_0x5ad311,_0x22f2cf){_0x5ad311=_0x5ad311-0x145;let _0x2bda7c=_0x42823a[_0x5ad311];return _0x2bda7c;},_0x5ad3(_0x26a0e8,_0x361569);}function _0x4282(){const _0x406bf6=['image','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','key','dataValues','message','silent','end','undefined','pin','Kingdom\x20needed.\x20restarting...','participant','findAll','./session.json','./lib/sql/plugin','DB\x20syncing','connectionLost','now','45EEwPEI','photo','remoteJid','406kWLILo','chatRead','get','Connection\x20closed.\x20Reconnecting...','statusCode','includes','./plugins/','store','70386gTUhXS','18572376jcHedb','⬇️\x20Installing\x20external\x20plugins...','goodbye','./config','pattern','path','test','default','video','existsSync','./plugins','name','map','fromMe','PREFIX','forEach','onlyGroup','readdirSync','SEND_READ','pino','extname','timedOut','@adiwajshing/baileys','chats','logout','error','restartRequired','conversation','PluginDB','865jqbvEf','imageMessage','split','connectionClosed','deleteCommand','match','.js','format','remove','splice','videoMessage','writeFileSync','Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.','11SgrhVw','4823560GZPAnZ','@hapi/boom','extendedTextMessage','updatePresence','*Wa-Bot-Md\x20Working*','text','caption','sync','398OsqJMg','child','loggedOut','Disconnected:\x20','getTime','prototype','./lib/sql/greetings','length','✅\x20Plugins\x20installed!','DATABASE','onlyPinned','messageStubType','connectionReplaced','bind','41646cYrMNt','log','SUDO','creds.update','Wa-Bot\x20Connecting\x20to\x20whatsapp','messages.upsert','unavailable','badSession','output','1080440CivLzO','jid','sendMessage','replace','./plugins/sql/','9544Ssubux','820yrhYTv','toLowerCase'];_0x4282=function(){return _0x406bf6;};return _0x4282();}const plugindb=require(_0x1c3468(0x15d));String['prototype'][_0x1c3468(0x191)]=function(){const _0x4a9f29=_0x1c3468;var _0x19abbc=0x0,_0xf6fcf4=arguments;return this[_0x4a9f29(0x14b)](/{}/g,function(){const _0x231134=_0x4a9f29;return typeof _0xf6fcf4[_0x19abbc]!=_0x231134(0x157)?_0xf6fcf4[_0x19abbc++]:'';});};!Date['now']&&(Date[_0x1c3468(0x160)]=function(){const _0x1d7f9d=_0x1c3468;return new Date()[_0x1d7f9d(0x1a4)]();});Array[_0x1c3468(0x1a5)][_0x1c3468(0x192)]=function(){const _0x4f84a7=_0x1c3468;var _0x501cd6,_0x5e8061=arguments,_0xc55595=_0x5e8061[_0x4f84a7(0x1a7)],_0xce4fd4;while(_0xc55595&&this[_0x4f84a7(0x1a7)]){_0x501cd6=_0x5e8061[--_0xc55595];while((_0xce4fd4=this['indexOf'](_0x501cd6))!==-0x1){this[_0x4f84a7(0x193)](_0xce4fd4,0x1);}}return this;};const startSock=async()=>{const _0x536d17=_0x1c3468;await config[_0x536d17(0x1a9)][_0x536d17(0x19f)](),console['log'](_0x536d17(0x15e)),console['log'](_0x536d17(0x1b2));const {version:_0x61ee42}=await fetchLatestBaileysVersion(),_0x2e1ae1=makeWASocket({'logger':logger,'version':_0x61ee42,'printQRInTerminal':![],'auth':state});console[_0x536d17(0x1af)]('Bot\x20connected.✅️.'),store[_0x536d17(0x1ad)](_0x2e1ae1['ev']),_0x2e1ae1['ev']['on']('connection.update',async _0x74e3be=>{const _0xda4a0d=_0x536d17,{connection:_0x3f9fe8,lastDisconnect:_0x176569}=_0x74e3be;_0x3f9fe8=='open',console['log'](_0xda4a0d(0x16e));var _0x3721d9=await plugindb[_0xda4a0d(0x189)][_0xda4a0d(0x15b)]();_0x3721d9[_0xda4a0d(0x179)](async _0x4d0651=>{const _0x41b9f9=_0xda4a0d;if(!fs[_0x41b9f9(0x176)]('./plugins/'+_0x4d0651[_0x41b9f9(0x153)]['name']+_0x41b9f9(0x190))){console[_0x41b9f9(0x1af)](_0x4d0651['dataValues'][_0x41b9f9(0x178)]);var _0x5e3875=await got(_0x4d0651[_0x41b9f9(0x153)]['url']);_0x5e3875[_0x41b9f9(0x168)]==0xc8&&(fs[_0x41b9f9(0x195)](_0x41b9f9(0x16a)+_0x4d0651[_0x41b9f9(0x153)][_0x41b9f9(0x178)]+_0x41b9f9(0x190),_0x5e3875['body']),require(_0x41b9f9(0x16a)+_0x4d0651[_0x41b9f9(0x153)][_0x41b9f9(0x178)]+'.js'));}}),fs[_0xda4a0d(0x17e)](_0xda4a0d(0x177))['forEach'](_0xfc9d04=>{const _0x213e16=_0xda4a0d;path[_0x213e16(0x181)](_0xfc9d04)[_0x213e16(0x14f)]()==_0x213e16(0x190)&&require(_0x213e16(0x16a)+_0xfc9d04);}),console[_0xda4a0d(0x1af)](_0xda4a0d(0x1a8));}),_0x2e1ae1['ev']['on'](_0x536d17(0x1b3),async({messages:_0x3934d4})=>{const _0x433838=_0x536d17;config['NO_ONLINE']&&await _0x2e1ae1[_0x433838(0x19b)](_0x3934d4[_0x433838(0x152)][_0x433838(0x163)],Presence[_0x433838(0x145)]);if(_0x3934d4['messageStubType']===0x20||_0x3934d4[_0x433838(0x1ab)]===0x1c){var _0x150ce9=await getMessage(_0x3934d4[_0x433838(0x152)][_0x433838(0x163)],_0x433838(0x16f));_0x150ce9!==![]&&await _0x2e1ae1[_0x433838(0x14a)](_0x3934d4['key'][_0x433838(0x163)],_0x150ce9[_0x433838(0x154)],MessageType['text']);return;}else{if(_0x3934d4[_0x433838(0x1ab)]===0x1b||_0x3934d4[_0x433838(0x1ab)]===0x1f){var _0x150ce9=await getMessage(_0x3934d4[_0x433838(0x152)]['remoteJid']);_0x150ce9!==![]&&await _0x2e1ae1[_0x433838(0x14a)](_0x3934d4[_0x433838(0x152)][_0x433838(0x163)],_0x150ce9['message'],MessageType[_0x433838(0x19d)]);return;}}events['commands'][_0x433838(0x179)](async _0x45c18d=>{const _0xe8d464=_0x433838;if(msg['message']&&msg[_0xe8d464(0x154)][_0xe8d464(0x18b)]&&msg[_0xe8d464(0x154)]['imageMessage']['caption'])var _0x157cf4=msg[_0xe8d464(0x154)][_0xe8d464(0x18b)][_0xe8d464(0x19e)];else{if(msg['message']&&msg[_0xe8d464(0x154)]['videoMessage']&&msg['message'][_0xe8d464(0x194)]['caption'])var _0x157cf4=msg[_0xe8d464(0x154)][_0xe8d464(0x194)][_0xe8d464(0x19e)];else{if(msg[_0xe8d464(0x154)])var _0x157cf4=msg[_0xe8d464(0x154)][_0xe8d464(0x19a)]===null?msg['message'][_0xe8d464(0x188)]:msg[_0xe8d464(0x154)][_0xe8d464(0x19a)][_0xe8d464(0x19d)];else var _0x157cf4=undefined;}}if(_0x45c18d['on']!==undefined&&(_0x45c18d['on']===_0xe8d464(0x150)||_0x45c18d['on']===_0xe8d464(0x162))&&msg['message']&&msg[_0xe8d464(0x154)]['imageMessage']!==null&&(_0x45c18d[_0xe8d464(0x171)]===undefined||_0x45c18d['pattern']!==undefined&&_0x45c18d[_0xe8d464(0x171)]['test'](_0x157cf4))||_0x45c18d['pattern']!==undefined&&_0x45c18d[_0xe8d464(0x171)][_0xe8d464(0x173)](_0x157cf4)||_0x45c18d['on']!==undefined&&_0x45c18d['on']===_0xe8d464(0x19d)&&_0x157cf4||_0x45c18d['on']!==undefined&&_0x45c18d['on']===_0xe8d464(0x175)&&msg['message']&&msg[_0xe8d464(0x154)][_0xe8d464(0x194)]!==null&&(_0x45c18d['pattern']===undefined||_0x45c18d[_0xe8d464(0x171)]!==undefined&&_0x45c18d[_0xe8d464(0x171)]['test'](_0x157cf4))){let _0x30c0cf=![];var _0x24777b=_0x2e1ae1[_0xe8d464(0x184)][_0xe8d464(0x166)](msg[_0xe8d464(0x152)][_0xe8d464(0x163)]);if(config[_0xe8d464(0x1b0)]!==![]&&msg[_0xe8d464(0x152)][_0xe8d464(0x17a)]===![]&&_0x45c18d[_0xe8d464(0x17a)]===!![]&&(msg[_0xe8d464(0x15a)]&&config['SUDO']['includes'](',')?config[_0xe8d464(0x1b0)][_0xe8d464(0x18c)](',')[_0xe8d464(0x169)](msg[_0xe8d464(0x15a)][_0xe8d464(0x18c)]('@')[0x0]):msg[_0xe8d464(0x15a)][_0xe8d464(0x18c)]('@')[0x0]==config[_0xe8d464(0x1b0)]||config[_0xe8d464(0x1b0)][_0xe8d464(0x169)](',')?config[_0xe8d464(0x1b0)][_0xe8d464(0x18c)](',')[_0xe8d464(0x169)](msg[_0xe8d464(0x152)][_0xe8d464(0x163)][_0xe8d464(0x18c)]('@')[0x0]):msg[_0xe8d464(0x152)][_0xe8d464(0x163)][_0xe8d464(0x18c)]('@')[0x0]==config[_0xe8d464(0x1b0)])||_0x45c18d[_0xe8d464(0x17a)]===msg[_0xe8d464(0x152)][_0xe8d464(0x17a)]||_0x45c18d[_0xe8d464(0x17a)]===![]&&!msg['key'][_0xe8d464(0x17a)]){if(_0x45c18d[_0xe8d464(0x1aa)]&&_0x24777b[_0xe8d464(0x158)]===undefined)return;if(!_0x45c18d['onlyPm']===_0x24777b[_0xe8d464(0x149)][_0xe8d464(0x169)]('-'))_0x30c0cf=!![];else{if(_0x45c18d[_0xe8d464(0x17d)]===_0x24777b[_0xe8d464(0x149)][_0xe8d464(0x169)]('-'))_0x30c0cf=!![];}}if(_0x30c0cf){config[_0xe8d464(0x17f)]&&_0x45c18d['on']===undefined&&await _0x2e1ae1[_0xe8d464(0x165)](msg['key'][_0xe8d464(0x163)]);var _0x106bf2=_0x157cf4[_0xe8d464(0x18f)](_0x45c18d[_0xe8d464(0x171)]);if(_0x45c18d['on']!==undefined&&(_0x45c18d['on']==='image'||_0x45c18d['on']==='photo')&&msg[_0xe8d464(0x154)][_0xe8d464(0x18b)]!==null)whats=new Image(_0x2e1ae1,msg);else _0x45c18d['on']!==undefined&&_0x45c18d['on']===_0xe8d464(0x175)&&msg[_0xe8d464(0x154)]['videoMessage']!==null?whats=new Video(_0x2e1ae1,msg):whats=new Message(_0x2e1ae1,msg);_0x45c18d[_0xe8d464(0x18e)]&&msg[_0xe8d464(0x152)][_0xe8d464(0x17a)]&&await whats['delete']();}}});}),console['log']('Bot\x20working...'),await _0x2e1ae1[_0x536d17(0x14a)](_0x2e1ae1['user']['id'],{'text':_0x536d17(0x19c)});};if(connection!=='close')return;let reason=new Boom(lastDisconnect?.[_0x1c3468(0x186)])?.[_0x1c3468(0x147)]?.[_0x1c3468(0x168)];const DR=DisconnectReason;if(reason===DR[_0x1c3468(0x146)]){console[_0x1c3468(0x1af)]('Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.'),sock[_0x1c3468(0x185)]();return;}if(reason===DR[_0x1c3468(0x18d)]){console[_0x1c3468(0x1af)](_0x1c3468(0x167)),startSock();return;}if(reason===DR[_0x1c3468(0x15f)]){console[_0x1c3468(0x1af)]('Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...'),startSock();return;}if(reason===DR[_0x1c3468(0x1ac)]){console[_0x1c3468(0x1af)](_0x1c3468(0x151)),sock['logout']();return;}if(reason===DR[_0x1c3468(0x1a2)]){console[_0x1c3468(0x1af)](_0x1c3468(0x196)),sock['logout']();return;}if(reason===DR[_0x1c3468(0x187)]){console[_0x1c3468(0x1af)](_0x1c3468(0x159)),startSock();return;}if(reason===DR[_0x1c3468(0x182)]){console[_0x1c3468(0x1af)]('Connection\x20timed\x20out,\x20Reconnecting...'),startSock();return;}sock[_0x1c3468(0x156)](_0x1c3468(0x1a3)+reason+'|'+lastDisconnect[_0x1c3468(0x186)]),sock['ev']['on'](_0x1c3468(0x1b1),saveState),startSock();
