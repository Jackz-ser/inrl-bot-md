/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x1ececf=_0x3dca;(function(_0x48003b,_0x2e3243){const _0xc332a5=_0x3dca,_0xc5e34=_0x48003b();while(!![]){try{const _0x42496d=-parseInt(_0xc332a5(0x1b9))/0x1*(-parseInt(_0xc332a5(0x20f))/0x2)+-parseInt(_0xc332a5(0x1f6))/0x3*(-parseInt(_0xc332a5(0x1e8))/0x4)+-parseInt(_0xc332a5(0x1ce))/0x5*(-parseInt(_0xc332a5(0x1ef))/0x6)+-parseInt(_0xc332a5(0x207))/0x7*(parseInt(_0xc332a5(0x1e5))/0x8)+parseInt(_0xc332a5(0x1e3))/0x9+-parseInt(_0xc332a5(0x214))/0xa+-parseInt(_0xc332a5(0x1ba))/0xb;if(_0x42496d===_0x2e3243)break;else _0xc5e34['push'](_0xc5e34['shift']());}catch(_0x3c6a0c){_0xc5e34['push'](_0xc5e34['shift']());}}}(_0x5324,0x92f1b));const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x1ececf(0x206)),{Boom}=require(_0x1ececf(0x1c3)),{state,saveState}=useSingleFileAuthState(_0x1ececf(0x1d8)),MAIN_LOGGER=require(_0x1ececf(0x1ed))[_0x1ececf(0x1c8)],logger=MAIN_LOGGER[_0x1ececf(0x1b0)]({});function _0x3dca(_0x1b786d,_0x3dcd49){const _0x53245d=_0x5324();return _0x3dca=function(_0x3dca2e,_0x1d33ef){_0x3dca2e=_0x3dca2e-0x1af;let _0x1a0f43=_0x53245d[_0x3dca2e];return _0x1a0f43;},_0x3dca(_0x1b786d,_0x3dcd49);}logger['level']=_0x1ececf(0x1ca);const config=require(_0x1ececf(0x216)),pino=require('pino'),store=makeInMemoryStore({'logger':pino()['child']({'level':_0x1ececf(0x1ca),'stream':'store'})}),fs=require('fs'),path=require(_0x1ececf(0x218)),events=require(_0x1ececf(0x1df)),{Message,Image,Video}=require('./lib/'),{DataTypes}=require(_0x1ececf(0x1f8)),{GreetingsDB,getMessage}=require(_0x1ececf(0x1bd)),got=require(_0x1ececf(0x1cc)),prefix=config[_0x1ececf(0x1c0)];fs['readdirSync'](_0x1ececf(0x209))[_0x1ececf(0x1b2)](_0xd2cbad=>{const _0x2f2719=_0x1ececf;path[_0x2f2719(0x1dc)](_0xd2cbad)[_0x2f2719(0x1af)]()==_0x2f2719(0x1b8)&&require(_0x2f2719(0x209)+_0xd2cbad);});function _0x5324(){const _0x2adbfd=['Bot\x20connected.✅️\x20To\x20Whatsapp...','readdirSync','length','restartRequired','196lrEfNa','Wa-Bot\x20Connecting\x20to\x20whatsapp','split','splice','close','4188870xyWPgr','./plugins','./config','undefined','path','remoteJid','map','image','photo','videoMessage','toLowerCase','child','participant','forEach','DB\x20syncing','writeFileSync','Kingdom\x20needed.\x20restarting...','prototype','format','.js','4391ApdoBe','14147573TXmSPs','goodbye','logout','./lib/sql/greetings','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','SUDO','PREFIX','message','error','@hapi/boom','Connection\x20closed.\x20Reconnecting...','end','name','✅\x20Plugins\x20installed!','default','jid','silent','bind','got','findAll','39485VIGfCb','indexOf','timedOut','test','log','connection.update','extendedTextMessage','get','connectionClosed','connectionReplaced','./session.json','deleteCommand','getTime','chats','extname','dataValues','onlyGroup','./lib/inrl','badSession','key','match','4254741ZIEzke','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','190304idgzZY','video','now','4133852QwHYGM','conversation','connectionLost','unavailable','includes','@adiwajshing/baileys/lib/Utils/logger','imageMessage','426SLFIks','replace','caption','delete','onlyPm','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','SEND_READ','3VNGfCS','pattern','sequelize','text','sync','commands','sendMessage','user','remove','./plugins/','updatePresence','url','fromMe','messageStubType','PluginDB','status@broadcast','@adiwajshing/baileys','56xZjTvB','*Wa-Bot-Md\x20Working*','./lib/sql/','NO_ONLINE'];_0x5324=function(){return _0x2adbfd;};return _0x5324();}const plugindb=require('./lib/sql/plugin');String[_0x1ececf(0x1b6)][_0x1ececf(0x1b7)]=function(){const _0x260632=_0x1ececf;var _0x18f71e=0x0,_0x56d421=arguments;return this[_0x260632(0x1f0)](/{}/g,function(){const _0x33ceae=_0x260632;return typeof _0x56d421[_0x18f71e]!=_0x33ceae(0x217)?_0x56d421[_0x18f71e++]:'';});};!Date['now']&&(Date[_0x1ececf(0x1e7)]=function(){const _0x5930ea=_0x1ececf;return new Date()[_0x5930ea(0x1da)]();});Array['prototype'][_0x1ececf(0x1fe)]=function(){const _0x111d05=_0x1ececf;var _0x3270e0,_0xbbbde=arguments,_0x58fc5b=_0xbbbde['length'],_0x4f99e6;while(_0x58fc5b&&this[_0x111d05(0x20d)]){_0x3270e0=_0xbbbde[--_0x58fc5b];while((_0x4f99e6=this[_0x111d05(0x1cf)](_0x3270e0))!==-0x1){this[_0x111d05(0x212)](_0x4f99e6,0x1);}}return this;};const startSock=async()=>{const _0x151ead=_0x1ececf;await config['DATABASE'][_0x151ead(0x1fa)](),console[_0x151ead(0x1d2)](_0x151ead(0x1b3)),console[_0x151ead(0x1d2)](_0x151ead(0x210));const {version:_0x27964c}=await fetchLatestBaileysVersion(),_0x9cc945=makeWASocket({'logger':logger,'version':_0x27964c,'printQRInTerminal':![],'auth':state});console[_0x151ead(0x1d2)](_0x151ead(0x20b)),store[_0x151ead(0x1cb)](_0x9cc945['ev']),console[_0x151ead(0x1d2)]('⬇️\x20Installing\x20external\x20plugins...');var _0x356353=await plugindb[_0x151ead(0x204)][_0x151ead(0x1cd)]();_0x356353['map'](async _0x1d91df=>{const _0x4e902d=_0x151ead;if(!fs['existsSync']('./plugins/'+_0x1d91df[_0x4e902d(0x1dd)][_0x4e902d(0x1c6)]+_0x4e902d(0x1b8))){console[_0x4e902d(0x1d2)](_0x1d91df['dataValues'][_0x4e902d(0x1c6)]);var _0x465515=await got(_0x1d91df[_0x4e902d(0x1dd)][_0x4e902d(0x201)]);_0x465515['statusCode']==0xc8&&(fs[_0x4e902d(0x1b4)](_0x4e902d(0x1ff)+_0x1d91df[_0x4e902d(0x1dd)]['name']+'.js',_0x465515['body']),require(_0x4e902d(0x1ff)+_0x1d91df['dataValues'][_0x4e902d(0x1c6)]+_0x4e902d(0x1b8)));}}),fs[_0x151ead(0x20c)](_0x151ead(0x215))[_0x151ead(0x1b2)](_0x3af5c9=>{const _0x2804b7=_0x151ead;path['extname'](_0x3af5c9)[_0x2804b7(0x1af)]()==_0x2804b7(0x1b8)&&require(_0x2804b7(0x1ff)+_0x3af5c9);}),console[_0x151ead(0x1d2)](_0x151ead(0x1c7)),console['log']('Bot\x20working...'),await _0x9cc945[_0x151ead(0x1fc)](_0x9cc945[_0x151ead(0x1fd)]['id'],{'text':_0x151ead(0x208)});};sock['ev']['on']('message-new',async _0x330219=>{const _0x506298=_0x1ececf;if(_0x330219[_0x506298(0x1e1)]&&_0x330219[_0x506298(0x1e1)]['remoteJid']==_0x506298(0x205))return;config[_0x506298(0x20a)]&&await sock[_0x506298(0x200)](messages[_0x506298(0x1e1)][_0x506298(0x219)],Presence[_0x506298(0x1eb)]);if(messages[_0x506298(0x203)]===0x20||messages[_0x506298(0x203)]===0x1c){var _0x12642f=await getMessage(messages['key'][_0x506298(0x219)],_0x506298(0x1bb));_0x12642f!==![]&&await sock[_0x506298(0x1fc)](messages[_0x506298(0x1e1)][_0x506298(0x219)],_0x12642f[_0x506298(0x1c1)],MessageType[_0x506298(0x1f9)]);return;}else{if(messages[_0x506298(0x203)]===0x1b||messages[_0x506298(0x203)]===0x1f){var _0x12642f=await getMessage(messages[_0x506298(0x1e1)]['remoteJid']);_0x12642f!==![]&&await sock[_0x506298(0x1fc)](messages['key'][_0x506298(0x219)],_0x12642f['message'],MessageType['text']);return;}}events[_0x506298(0x1fb)][_0x506298(0x21a)](async _0x57150d=>{const _0x4e8b86=_0x506298;if(_0x330219[_0x4e8b86(0x1c1)]&&_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x1ee)]&&_0x330219[_0x4e8b86(0x1c1)]['imageMessage'][_0x4e8b86(0x1f1)])var _0x5c00ac=_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x1ee)][_0x4e8b86(0x1f1)];else{if(_0x330219[_0x4e8b86(0x1c1)]&&_0x330219['message'][_0x4e8b86(0x21d)]&&_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x21d)][_0x4e8b86(0x1f1)])var _0x5c00ac=_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x21d)][_0x4e8b86(0x1f1)];else{if(_0x330219['message'])var _0x5c00ac=_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x1d4)]===null?_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x1e9)]:_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x1d4)]['text'];else var _0x5c00ac=undefined;}}if(_0x57150d['on']!==undefined&&(_0x57150d['on']===_0x4e8b86(0x21b)||_0x57150d['on']==='photo')&&_0x330219[_0x4e8b86(0x1c1)]&&_0x330219[_0x4e8b86(0x1c1)]['imageMessage']!==null&&(_0x57150d['pattern']===undefined||_0x57150d[_0x4e8b86(0x1f7)]!==undefined&&_0x57150d[_0x4e8b86(0x1f7)][_0x4e8b86(0x1d1)](_0x5c00ac))||_0x57150d[_0x4e8b86(0x1f7)]!==undefined&&_0x57150d[_0x4e8b86(0x1f7)]['test'](_0x5c00ac)||_0x57150d['on']!==undefined&&_0x57150d['on']===_0x4e8b86(0x1f9)&&_0x5c00ac||_0x57150d['on']!==undefined&&_0x57150d['on']==='video'&&_0x330219[_0x4e8b86(0x1c1)]&&_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x21d)]!==null&&(_0x57150d[_0x4e8b86(0x1f7)]===undefined||_0x57150d['pattern']!==undefined&&_0x57150d[_0x4e8b86(0x1f7)][_0x4e8b86(0x1d1)](_0x5c00ac))){let _0x478daa=![];var _0xc1ea8e=sock[_0x4e8b86(0x1db)][_0x4e8b86(0x1d5)](_0x330219['key']['remoteJid']);if(config[_0x4e8b86(0x1bf)]!==![]&&_0x330219[_0x4e8b86(0x1e1)][_0x4e8b86(0x202)]===![]&&_0x57150d[_0x4e8b86(0x202)]===!![]&&(_0x330219[_0x4e8b86(0x1b1)]&&config[_0x4e8b86(0x1bf)]['includes'](',')?config['SUDO'][_0x4e8b86(0x211)](',')[_0x4e8b86(0x1ec)](_0x330219['participant'][_0x4e8b86(0x211)]('@')[0x0]):_0x330219['participant'][_0x4e8b86(0x211)]('@')[0x0]==config[_0x4e8b86(0x1bf)]||config[_0x4e8b86(0x1bf)][_0x4e8b86(0x1ec)](',')?config[_0x4e8b86(0x1bf)][_0x4e8b86(0x211)](',')['includes'](_0x330219[_0x4e8b86(0x1e1)][_0x4e8b86(0x219)][_0x4e8b86(0x211)]('@')[0x0]):_0x330219['key'][_0x4e8b86(0x219)][_0x4e8b86(0x211)]('@')[0x0]==config['SUDO'])||_0x57150d['fromMe']===_0x330219['key']['fromMe']||_0x57150d[_0x4e8b86(0x202)]===![]&&!_0x330219['key'][_0x4e8b86(0x202)]){if(_0x57150d['onlyPinned']&&_0xc1ea8e['pin']===undefined)return;if(!_0x57150d[_0x4e8b86(0x1f3)]===_0xc1ea8e[_0x4e8b86(0x1c9)][_0x4e8b86(0x1ec)]('-'))_0x478daa=!![];else{if(_0x57150d[_0x4e8b86(0x1de)]===_0xc1ea8e[_0x4e8b86(0x1c9)][_0x4e8b86(0x1ec)]('-'))_0x478daa=!![];}}if(_0x478daa){config[_0x4e8b86(0x1f5)]&&_0x57150d['on']===undefined&&await sock['chatRead'](_0x330219[_0x4e8b86(0x1e1)]['remoteJid']);var _0x468e87=_0x5c00ac[_0x4e8b86(0x1e2)](_0x57150d['pattern']);if(_0x57150d['on']!==undefined&&(_0x57150d['on']==='image'||_0x57150d['on']===_0x4e8b86(0x21c))&&_0x330219[_0x4e8b86(0x1c1)]['imageMessage']!==null)whats=new Image(sock,_0x330219);else _0x57150d['on']!==undefined&&_0x57150d['on']===_0x4e8b86(0x1e6)&&_0x330219[_0x4e8b86(0x1c1)]['videoMessage']!==null?whats=new Video(sock,_0x330219):whats=new Message(sock,_0x330219);_0x57150d[_0x4e8b86(0x1d9)]&&_0x330219[_0x4e8b86(0x1e1)][_0x4e8b86(0x202)]&&await whats[_0x4e8b86(0x1f2)]();var _0x468e87=_0x5c00ac[_0x4e8b86(0x1e2)](_0x57150d[_0x4e8b86(0x1f7)]);if(_0x57150d['on']!==undefined&&(_0x57150d['on']===_0x4e8b86(0x21b)||_0x57150d['on']===_0x4e8b86(0x21c))&&_0x330219['message'][_0x4e8b86(0x1ee)]!==null)whats=new Image(sock,_0x330219);else _0x57150d['on']!==undefined&&_0x57150d['on']===_0x4e8b86(0x1e6)&&_0x330219[_0x4e8b86(0x1c1)][_0x4e8b86(0x21d)]!==null?whats=new Video(sock,_0x330219):whats=new Message(sock,_0x330219);_0x57150d[_0x4e8b86(0x1d9)]&&_0x330219[_0x4e8b86(0x1e1)]['fromMe']&&await whats[_0x4e8b86(0x1f2)]();}}}),sock['ev']['on'](_0x506298(0x1d3),async _0x22a492=>{const _0x4cf19b=_0x506298,{connection:_0x192e90,lastDisconnect:_0x5269a0}=_0x22a492;if(_0x192e90!==_0x4cf19b(0x213))return;let _0x5c8d63=new Boom(_0x5269a0?.['error'])?.['output']?.['statusCode'];const _0x10cfd5=DisconnectReason;if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x1e0)]){console[_0x4cf19b(0x1d2)](_0x4cf19b(0x1e4)),sock[_0x4cf19b(0x1bc)]();return;}if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x1d6)]){console[_0x4cf19b(0x1d2)](_0x4cf19b(0x1c4)),startSock();return;}if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x1ea)]){console[_0x4cf19b(0x1d2)](_0x4cf19b(0x1be)),startSock();return;}if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x1d7)]){console[_0x4cf19b(0x1d2)](_0x4cf19b(0x1f4)),sock['logout']();return;}if(_0x5c8d63===_0x10cfd5['loggedOut']){console[_0x4cf19b(0x1d2)]('Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.'),sock[_0x4cf19b(0x1bc)]();return;}if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x20e)]){console[_0x4cf19b(0x1d2)](_0x4cf19b(0x1b5)),startSock();return;}if(_0x5c8d63===_0x10cfd5[_0x4cf19b(0x1d0)]){console[_0x4cf19b(0x1d2)]('Connection\x20timed\x20out,\x20Reconnecting...'),startSock();return;}}),sock[_0x506298(0x1c5)]('Disconnected:\x20'+reason+'|'+lastDisconnect[_0x506298(0x1c2)]),sock['ev']['on']('creds.update',saveState);}),startSock();
